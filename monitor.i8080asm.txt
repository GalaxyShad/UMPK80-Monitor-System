 ADR | MC | LABEL   | ASM                        ; COMMENT
     |    |         |                            ; ******************************************************************
     |    |         |                            ; *                                                                *
     |    |         |                            ; *               РЕЗИДЕНТНЫЙ МОНИТОР ОДНОПЛАТНОЙ                  *
     |    |         |                            ; *                       УЧЕБНОЙ МИКРОЭВМ                         *
     |    |         |                            ; *                          УМПК-80/ВМ                            *
     |    |         |                            ; *                                                                *
     |    |         |                            ; ******************************************************************
     |    |         |                            ; 
     |    |         |                            ; АДРЕСА УВВ МОДУЛЯ
     |    |         |                            ; 
     |    | OTR     | EQU 4                      ; РЕГИСТР ВЫВОДА НА МАГНИТАФОН, ЗВУК
     |    | ITR     | EQU 4                      ; РЕГИСТР ВВОДА С МАГНИТАФОНА
     |    | LOUT    | EQU 5                      ; ВЫХОДНОЙ РЕГИСТР
     |    | KEY     | EQU 6                      ; РЕГИСТР ЧТЕНИЯ КЛАВИАТУРЫ
     |    | DSP     | EQU 6                      ; РЕГИСТР СЕГМЕНТОВ ДИСПЛЕЯ
     |    | SCAN    | EQU 7                      ; РЕГИСТР СКАНИРОВАНИЯ
     |    | CTL     | EQU 8                      ; РЕГИСТР УПРАВЛЕНИЯ (БАЗОВЫЙ АДРЕС)
     |    |         |                            ; 
     |    |         |                            ; НАЗНАЧЕНИЕ КОНСТАНТ
     |    |         |                            ; 
     |    | PC      | EQU 0800H                  ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ PC ПОЛЬЗОВАТЕЛЯ
     |    | TIME    | EQU 67H                    ; КОНСТАНТА ЦИКЛА ЗАДЕРЖКИ В 1 МС
     |    | FREQ    | EQU 20H                    ; КОНСТАНТА ЧАСТОТЫ BEEP
     |    | DUR     | EQU 40H                    ; КОНСТАНТА ДЛИТЕЛЬНОСТИ BEEP
     |    | RS4C    | EQU 0AF6H                  ; ТОЧКА ВЫХОДА ПО RST 4
     |    | RS5C    | EQU 0AF9H                  ; ТОЧКА ВЫХОДА ПО RST 5
     |    | RS6C    | EQU 0AFCH                  ; ТОЧКА ВЫХОДА ПО RST 6
     |    | TPR     | EQU 0AFFH                  ; ВЕРХ ЗАЩИЩЕННОГО ОЗУ
     |    | UR      | EQU 0AEFH                  ; ВЕРХ ОЗУ (БЕЗ ТОЧЕК ВХОДА ПО RST)
     |    | ERAM    | EQU 0CH                    ; КОНЕЦ ОЗУ
     |    |         |                            ; 
     |    |         |                            ; ОБЛАСТИ СТЕКА МОНИТОРА И ПОЛЬЗОВАТЕЛЯ В ОЗУ
     |    |         |                            ; 
     |    |         | ORG 0BB0H                  ; 
0BB0 |    | USP:    | DS 0                       ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ SP ПОЛЬЗОВАТЕЛЯ
0BB0 | 00 |         | DS 1EH                     ; 
0BB1 | 00 |         |                            ; 
0BB2 | 00 |         |                            ; 
0BB3 | 00 |         |                            ; 
0BB4 | 00 |         |                            ; 
0BB5 | 00 |         |                            ; 
0BB6 | 00 |         |                            ; 
0BB7 | 00 |         |                            ; 
0BB8 | 00 |         |                            ; 
0BB9 | 00 |         |                            ; 
0BBA | 00 |         |                            ; 
0BBB | 00 |         |                            ; 
0BBC | 00 |         |                            ; 
0BBD | 00 |         |                            ; 
0BBE | 00 |         |                            ; 
0BBF | 00 |         |                            ; 
0BC0 | 00 |         |                            ; 
0BC1 | 00 |         |                            ; 
0BC2 | 00 |         |                            ; 
0BC3 | 00 |         |                            ; 
0BC4 | 00 |         |                            ; 
0BC5 | 00 |         |                            ; 
0BC6 | 00 |         |                            ; 
0BC7 | 00 |         |                            ; 
0BC8 | 00 |         |                            ; 
0BC9 | 00 |         |                            ; 
0BCA | 00 |         |                            ; 
0BCB | 00 |         |                            ; 
0BCC | 00 |         |                            ; 
0BCD | 00 |         |                            ; 
0BCE |    | MSP:    | DS 0                       ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ SP МОНИТОРА
     |    |         |                            ; 
     |    |         |                            ; ОБЛАСТЬ ПЕРЕМЕННЫХ МОНИТОРА В ОЗУ
     |    |         |                            ; 
     |    |         | ORG 0BD1H                  ; 
0BD1 | 00 | TSAVS:  | DS 2                       ; ВРЕМЕННАЯ ОБЛАСТЬ СОХРАНЕНИЯ SP
0BD2 | 00 |         |                            ; 
0BD3 | 00 | TSAVH:  | DS 2                       ; ВРЕМЕННАЯ ОБЛАСТЬ СОХРАНЕНИЯ PC
0BD4 | 00 |         |                            ; 
0BD5 | 00 | RAML1:  | DS 1                       ; ВРЕМЕННАЯ ОБЛАСТЬ ПРОГРАММЫ JMP USER
0BD6 | 00 | RS:     | DS 1                       ; АДРЕС СОСТОЯНИЯ ОЗУ
0BD7 | 00 | RAML2:  | DS 4                       ; ОБЛАСТЬ ПРОГРАММЫ JMP USER
0BD8 | 00 |         |                            ; 
0BD9 | 00 |         |                            ; 
0BDA | 00 |         |                            ; 
0BDB | 00 | SAVRG:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ РЕГИСТРОВ
0BDC | 00 | SAVPC:  | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ PC
0BDD | 00 |         |                            ; 
0BDE | 00 | SAVSL:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ SPL
0BDF | 00 | SAVSH:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ SPH
0BE0 | 00 | SAVL:   | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ L И H
0BE1 | 00 |         |                            ; 
0BE2 | 00 | SAVE:   | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ E И D
0BE3 | 00 |         |                            ; 
0BE4 | 00 | SAVC:   | DS 2                       ; ОБЛАСТЬ СОХРАНЕНИЯ C И B
0BE5 | 00 |         |                            ; 
0BE6 | 00 | SAVPW:  | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ ФЛАГОВ
0BE7 | 00 | SAVA:   | DS 1                       ; ОБЛАСТЬ СОХРАНЕНИЯ A
0BE8 | 00 | UDKY:   | DS 8                       ; ОБЛАСТЬ ХРАНЕНИЯ ОБРАЗА КЛАВИАТУРЫ
0BE9 | 00 |         |                            ; 
0BEA | 00 |         |                            ; 
0BEB | 00 |         |                            ; 
0BEC | 00 |         |                            ; 
0BED | 00 |         |                            ; 
0BEE | 00 |         |                            ; 
0BEF | 00 |         |                            ; 
0BF0 | 00 | UDSP:   | DS 6                       ; ОБЛАСТЬ НЕДЕКОДИРОВАННЫХ СООБЩЕНИЙ ДИСПЛЕЯ
0BF1 | 00 |         |                            ; 
0BF2 | 00 |         |                            ; 
0BF3 | 00 |         |                            ; 
0BF4 | 00 |         |                            ; 
0BF5 | 00 |         |                            ; 
0BF6 | 00 | UDSP6:  | DS 2                       ; ФЛАГ ВКЛЮЧЕНИЯ ДЕСЯТИЧНОЙ ТОЧКИ
0BF7 | 00 |         |                            ; 
0BF8 | 00 | RMP:    | DS 2                       ; УКАЗАТЕЛЬ СООБЩЕНИЯ О ТЕКУЩЕМ РГ
0BF9 | 00 |         |                            ; 
0BFA | 00 | DDSP:   | DS 6                       ; ОБЛАСТЬ ДЕКОДИРОВАННЫХ СООБЩЕНИЙ ДИСПЛЕЯ
0BFB | 00 |         |                            ; 
0BFC | 00 |         |                            ; 
0BFD | 00 |         |                            ; 
0BFE | 00 |         |                            ; 
0BFF | 00 |         |                            ; 
     |    |         | ORG 0000H                  ; 
     |    |         |                            ; RST 0 - ТОЧКА ВХОДА В МОНИТОР ПО СБРОСУ
     |    |         |                            ; ( КЛАВИША "R" ИЛИ ВКЛЮЧЕНИЕ ПИТАНИЯ )
     |    |         |                            ; 
0000 | 26 | RESET:  | MVI H,008H                 ; АДРЕС НАЧАЛА ОЗУ
0001 | 08 |         |                            ; 
0002 | AF |         | XRA A                      ; 
0003 | 2F |         | CMA                        ; 
0004 | 77 |         | MOV M,A                    ; ЗАПИСЬ FF В ОДНУ ИЗ ЯЧЕЕК ОЗУ
0005 | C3 |         | JMP STRT                   ; 
0006 | 40 |         |                            ; 
0007 | 00 |         |                            ; 
     |    |         |                            ; RST 1 - ТОЧКА ВХОДА В МОНИТОР ПО ПРЕРЫВАНИЮ
     |    |         |                            ; ( КЛАВИША "СТ" ИЛИ ТОЧКА ОСТАНОВА )
     |    |         |                            ; 
0008 | 22 | RS1:    | SHLD TSAVH                 ; 
0009 | D3 |         |                            ; 
000A | 0B |         |                            ; 
000B | D3 |         | OUT 008H                   ; 
000C | 08 |         |                            ; 
000D | C3 |         | JMP TRP                    ; 
000E | F3 |         |                            ; 
000F | 00 |         |                            ; 
     |    |         |                            ; RST 2 - СВИСТОК С ФИКСИРОВАННОЙ ДЛИТЕЛЬНОСЬЮ И ТОНОМ
     |    |         |                            ; 
0010 | 06 | BEEP:   | MVI B,FREQ                 ; ЧАСТОТА СИГНАЛА
0011 | 20 |         |                            ; 
0012 | 16 | BEEP1:  | MVI D,DUR                  ; ДЛИТЕЛЬНОСТЬ СИГНАЛА
0013 | 40 |         |                            ; 
0014 | C3 |         | JMP BEEP2                  ; 
0015 | 47 |         |                            ; 
0016 | 04 |         |                            ; 
0017 | 00 |         | NOP                        ; 
     |    |         |                            ; RST 3 - ПЕРЕМЕЩЕНИЕ СООБЩЕНИЯ ПО АДРЕСУ DE В ОБЛАСТЬ UDSP
     |    |         |                            ; 
0018 | C5 | STDM:   | PUSH B                     ; 
0019 | 21 |         | LXI H,UDSP                 ; ПЕРВЫЙ СИМВОЛ В UDSP
001A | F0 |         |                            ; 
001B | 0B |         |                            ; 
001C | C3 |         | JMP SDM                    ; 
001D | 35 |         |                            ; 
001E | 02 |         |                            ; 
001F | 00 |         | NOP                        ; 
0020 | C3 | RS4:    | JMP RS4C                   ; ПЕРЕХОД НА П/П ПОЛЬЗОВАТЕЛЯ
0021 | F6 |         |                            ; 
0022 | 0A |         |                            ; 
0023 | 00 |         | DB 0,0,0                   ; 
0024 | 00 |         |                            ; 
0025 | 00 |         |                            ; 
0026 | 00 |         | DB 0,0                     ; 
0027 | 00 |         |                            ; 
0028 | C3 | RS5:    | JMP RS5C                   ; ПЕРЕХОД НА П/П ПОЛЬЗОВАТЕЛЯ
0029 | F9 |         |                            ; 
002A | 0A |         |                            ; 
002B | 00 |         | DB 0,0,0                   ; 
002C | 00 |         |                            ; 
002D | 00 |         |                            ; 
002E | 00 |         | DB 0,0                     ; 
002F | 00 |         |                            ; 
0030 | C3 | RS6:    | JMP RS6C                   ; ПЕРЕХОД НА П/П ПОЛЬЗОВАТЕЛЯ
0031 | FC |         |                            ; 
0032 | 0A |         |                            ; 
0033 | 00 |         | DB 0,0,0                   ; 
0034 | 00 |         |                            ; 
0035 | 00 |         |                            ; 
0036 | 00 |         | DB 0,0                     ; 
0037 | 00 |         |                            ; 
0038 | D7 | RS7:    | RST 2                      ; СВИСТОК
0039 | C3 |         | JMP STRT6                  ; ВОЗВРАТ В МОНИТОР
003A | AC |         |                            ; 
003B | 00 |         |                            ; 
003C | 00 |         | DB 0,0,0                   ; 
003D | 00 |         |                            ; 
003E | 00 |         |                            ; 
003F | 00 |         | DB 0                       ; 
     |    |         |                            ; ТЕСТ САМОПРОВЕРКИ И НАЧАЛЬНАЯ
     |    |         |                            ; 
0040 | BE | STRT:   | CMP M                      ; ЗАЩИТА ПАМЯТИ СНЯТА?
0041 | C2 |         | JNZ PPER                   ; - ЕСЛИ НЕТ (ПОПАЛИ НА RST 0 ИЗ-ЗА ОШИБКИ СТЕКА ПОЛЬЗОВАТЕЛЯ)
0042 | C8 |         |                            ; 
0043 | 00 |         |                            ; 
0044 | 31 |         | LXI SP,MSP                 ; ИНИЦИАЛИЗАЦИЯ СТЕКА МОНИТОРА
0045 | CE |         |                            ; 
0046 | 0B |         |                            ; 
0047 | AF |         | XRA A                      ; 
0048 | 67 |         | MOV H,A                    ; 
0049 | 6F |         | MOV L,A                    ; 
004A | D3 |         | OUT LOUT                   ; 
004B | 05 |         |                            ; 
     |    |         |                            ; ТЕСТ ПЗУ МОДУЛЯ
     |    |         |                            ; 
004C | 86 | STRT1:  | ADD M                      ; ВЫЧИСЛЕНИЕ КОНТРОЛЬНОЙ СУММЫ ПЗУ
004D | 23 |         | INX H                      ; 
004E | 4F |         | MOV C,A                    ; 
004F | 3E |         | MVI A,8H                   ; ПЗУ КОНЧИЛОСЬ?
0050 | 08 |         |                            ; 
0051 | BC |         | CMP H                      ; 
0052 | 79 |         | MOV A,C                    ; 
0053 | C2 |         | JNZ STRT1                  ; - НЕТ, ПРОДОЛЖЕНИЕ ЦИКЛА
0054 | 4C |         |                            ; 
0055 | 00 |         |                            ; 
0056 | 2B |         | DCX H                      ; HL - НА ЗНАЧЕНИЕ КОНТРОЛЬНОЙ СУММЫ
0057 | 96 |         | SUB M                      ; 
0058 | BE |         | CMP M                      ; 
0059 | 1E |         | MVI E,07CH                 ; СООБЩИМ ОБ ОШИБКЕ
005A | 7C |         |                            ; 
005B | 00 |         | DB 0,0,0                   ; JNZ MERR1 - ПЕРЕХОД НА ЕЕ ИНДИКАЦИЮ
005C | 00 |         |                            ; 
005D | 00 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ТЕСТ ОЗУ МОДУЛЯ
     |    |         |                            ; 
005E | AF |         | XRA A                      ; ОЧИСТИМ А
005F | 21 |         | LXI H,PC                   ; HL НА НАЧАЛО ОЗУ
0060 | 00 |         |                            ; 
0061 | 08 |         |                            ; 
0062 | 06 |         | MVI B,3                    ; ПОСТОЯННОЕ СЛАГАЕМОЕ
0063 | 03 |         |                            ; 
0064 | 77 | STRT2:  | MOV M,A                    ; ЗАПОМНИМ В ПАМЯТИ
0065 | 80 |         | ADD B                      ; УВЕЛИЧИМ А НА 3
0066 | 23 |         | INX H                      ; НА СЛЕДУЮЩИЙ АДРЕС ОЗУ
0067 | 4F |         | MOV C,A                    ; 
0068 | 7C |         | MOV A,H                    ; 
0069 | FE |         | CPI ERAM                   ; ОЗУ КОНЧИЛОСЬ?
006A | 0C |         |                            ; 
006B | 79 |         | MOV A,C                    ; 
006C | C2 |         | JNZ STRT2                  ; - НЕТ, ПРОДОЛЖИМ ЗАПИСЬ
006D | 64 |         |                            ; 
006E | 00 |         |                            ; 
006F | AF |         | XRA A                      ; 
0070 | 21 |         | LXI H,PC                   ; HL НА НАЧАЛО ПАМЯТИ
0071 | 00 |         |                            ; 
0072 | 08 |         |                            ; 
0073 | BE | STRT3:  | CMP M                      ; ДАННЫЕ ЗАПИСАЛИСЬ ПРАВИЛЬНО?
0074 | C2 |         | JNZ MERR                   ; - ЕСЛИ БЫЛА ОШИБКА
0075 | DC |         |                            ; 
0076 | 00 |         |                            ; 
0077 | 2F |         | CMA                        ; 
0078 | 77 |         | MOV M,A                    ; ЗАПИШЕМ ИНВЕРТИРОВАННЫЙ БАЙТ
0079 | BE |         | CMP M                      ; ОН ЗАПИСАЛСЯ ПРАВИЛЬНО?
007A | C2 |         | JNZ MERR                   ; - БЫЛА ОШИБКА
007B | DC |         |                            ; 
007C | 00 |         |                            ; 
007D | 2F |         | CMA                        ; НАЧАЛЬНОЕ ЗНАЧЕНИЕ А
007E | 80 |         | ADD B                      ; 
007F | 23 |         | INX H                      ; СЛЕДУЮЩИЙ АДРЕС ПАМЯТИ
0080 | 4F |         | MOV C,A                    ; 
0081 | 7C |         | MOV A,H                    ; 
0082 | FE |         | CPI ERAM                   ; ДОШЛИ ДО КОНЦА ОЗУ?
0083 | 0C |         |                            ; 
0084 | 79 |         | MOV A,C                    ; 
0085 | C2 |         | JNZ STRT3                  ; НЕТ - ПРОДОЛЖИМ ПРОВЕРКУ
0086 | 73 |         |                            ; 
0087 | 00 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ТЕСТ ДИСПЛЕЙ МОДУЛЯ
     |    |         |                            ; 
0088 | 06 |         | MVI B,080H                 ; СЧЕТЧИК ЦИКЛА
0089 | 80 |         |                            ; 
008A | 11 | STRT4:  | LXI D,ALL                  ; СООБЩЕНИЕ "ВСЕ СЕГМЕНТЫ"
008B | 81 |         |                            ; 
008C | 02 |         |                            ; 
008D | DF |         | RST 3                      ; СКОПИРУЕМ ЕГО В ОБЛАСТЬ ДИСПЛЕЯ
008E | CD |         | CALL DCD                   ; И ОТОБРАЗИМ
008F | E9 |         |                            ; 
0090 | 01 |         |                            ; 
0091 | 05 |         | DCR B                      ; ЦИКЛ КОНЧИЛСЯ?
0092 | C2 |         | JNZ STRT4                  ; НЕТ, ПРОДОЛЖАЕМ
0093 | 8A |         |                            ; 
0094 | 00 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ОЧИСТКА ПАМЯТИ (ЗАПОЛНЕНИЕ НУЛЯМИ)
     |    |         |                            ; 
0095 | 06 |         | MVI B,0                    ; 
0096 | 00 |         |                            ; 
0097 | 3E |         | MVI A,ERAM                 ; СТАРШИЙ БАЙТ АДРЕСА ВЕРХУШКИ ОЗУ
0098 | 0C |         |                            ; 
0099 | 21 |         | LXI H,PC                   ; HL - НА НАЧАЛО ОЗУ
009A | 00 |         |                            ; 
009B | 08 |         |                            ; 
009C | 70 | STRT5:  | MOV M,B                    ; ОЧИСТИМ ЯЧЕЙКУ ПАМЯТИ
009D | 23 |         | INX H                      ; 
009E | BC |         | CMP H                      ; 
009F | C2 |         | JNZ STRT5                  ; ПОКА НЕ ДОЙДЕМ ДО ВЕРХУШКИ ОЗУ
00A0 | 9C |         |                            ; 
00A1 | 00 |         |                            ; 
00A2 | 3E |         | MVI A,0FFH                 ; 
00A3 | FF |         |                            ; 
00A4 | D3 |         | OUT LOUT                   ; ВКЛЮЧИМ СВЕТОДИОДЫ ВЕРХНЕГО РГ
00A5 | 05 |         |                            ; 
00A6 | CD |         | CALL LMC                   ; СЫГРАЕМ МУЗЫКУ
00A7 | A0 |         |                            ; 
00A8 | 06 |         |                            ; 
00A9 | AF |         | XRA A                      ; 
00AA | D3 |         | OUT LOUT                   ; ВЫКЛЮЧИМ СВЕТОДИОДЫ (ОЧИСТИМ LOUT)
00AB | 05 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ИНИЦИАЛИЗАЦИЯ ПЕРЕМЕННЫХ МОНИТОРА
     |    |         |                            ; 
00AC | 21 | STRT6:  | LXI H,USP                  ; СТЕК ПОЛЬЗОВАТЕЛЯ
00AD | B0 |         |                            ; 
00AE | 0B |         |                            ; 
00AF | 22 |         | SHLD SAVSL                 ; 
00B0 | DE |         |                            ; 
00B1 | 0B |         |                            ; 
00B2 | 21 |         | LXI H,RS                   ; АДРЕС СОСТОЯНИЯ
00B3 | D6 |         |                            ; 
00B4 | 0B |         |                            ; 
00B5 | 36 |         | MVI M,0                    ; УСТАНОВИМ СОСТОЯНИЕ "МОНИТОР"
00B6 | 00 |         |                            ; 
00B7 | 21 |         | LXI H,PC                   ; НАЧАЛО ОЗУ
00B8 | 00 |         |                            ; 
00B9 | 08 |         |                            ; 
00BA | 22 |         | SHLD SAVPC                 ; НАЧАЛО ПРОГРАММЫ ПОЛЬЗОВАТЕЛЯ
00BB | DC |         |                            ; 
00BC | 0B |         |                            ; 
     |    |         |                            ; ПО УМОЛЧАНИЮ
00BD | 3E |         | MVI A,0FFH                 ; КОД RST7
00BE | FF |         |                            ; 
00BF | 32 |         | STA TPR                    ; ЗАПОМНИМ ЕГО ОЗУ
00C0 | FF |         |                            ; 
00C1 | 0A |         |                            ; 
00C2 | 32 |         | STA UR                     ; 
00C3 | EF |         |                            ; 
00C4 | 0A |         |                            ; 
00C5 | C3 |         | JMP TRP3                   ; ПЕРЕЙДЕМ НА МОНИТОР
00C6 | 11 |         |                            ; 
00C7 | 01 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ОБРАБОТКА ОШИБОК СТЕКА
     |    |         |                            ; 
00C8 | 31 | PPER:   | LXI SP,MSP                 ; СТЕК МОНИТОРА
00C9 | CE |         |                            ; 
00CA | 0B |         |                            ; 
00CB | 21 |         | LXI H,PC                   ; СЧЕТЧИК КОМАНД ПО УМОЛЧАНИЮ
00CC | 00 |         |                            ; 
00CD | 08 |         |                            ; 
00CE | 22 |         | SHLD SAVPC                 ; ЗАПОМНИМ ЕГО
00CF | DC |         |                            ; 
00D0 | 0B |         |                            ; 
00D1 | D7 |         | RST 2                      ; СИГНАЛ ОШИБКИ
00D2 | AF |         | XRA A                      ; 
00D3 | 32 |         | STA RS                     ; СОСТОЯНИЕ "МОНИТОР"
00D4 | D6 |         |                            ; 
00D5 | 0B |         |                            ; 
00D6 | 11 |         | LXI D,PPM                  ; УКАЗАТЬ НА ОШИБКУ РАБОТЫ СО СТЕКОМ
00D7 | 8D |         |                            ; 
00D8 | 02 |         |                            ; 
00D9 | C3 |         | JMP TRP4                   ; 
00DA | 15 |         |                            ; 
00DB | 01 |         |                            ; 
     |    |         |                            ; ИНДИКАЦИЯ ОШИБОК ЗУ
     |    |         |                            ; 
00DC | 1E | MERR:   | MVI E,87H                  ; АДРЕС СООБЩЕНИЯ ОБ ОШИБКЕ ОЗУ
00DD | 87 |         |                            ; 
00DE | 16 |         | MVI D,2                    ; 
00DF | 02 |         |                            ; 
00E0 | DF |         | RST 3                      ; ПЕРЕМЕСТИМ ЕГО В ОБЛАСТИ ДИСПЛЕЯ
00E1 | 21 |         | LXI H,UDSP + 5             ; 
00E2 | F5 |         |                            ; 
00E3 | 0B |         |                            ; 
00E4 | 36 |         | MVI M,10H                  ; 
00E5 | 10 |         |                            ; 
00E6 | D7 | MERR2:  | RST 2                      ; БУДЕМ СВИСТЕТЬ
00E7 | 06 |         | MVI B,70H                  ; 
00E8 | 70 |         |                            ; 
00E9 | CD | MERR3:  | CALL DCD                   ; И ВЫВОДИТЬ СООБЩЕНИЕ
00EA | E9 |         |                            ; 
00EB | 01 |         |                            ; 
00EC | 05 |         | DCR B                      ; 
00ED | C2 |         | JNZ MERR3                  ; 
00EE | E9 |         |                            ; 
00EF | 00 |         |                            ; 
00F0 | C3 |         | JMP MERR2                  ; 
00F1 | E6 |         |                            ; 
00F2 | 00 |         |                            ; 
     |    |         |                            ; RST 1 - ГЛАВНАЯ ТОЧКА ВХОДА В МОНИТОР
     |    |         |                            ; 
00F3 | 21 | TRP:    | LXI H,0                    ; ИЗВЛЕКАЕМ SP ПОЛЬЗОВАТЕЛЯ,
00F4 | 00 |         |                            ; 
00F5 | 00 |         |                            ; 
00F6 | D2 |         | JNC TRP1                   ; СОХРАНИВ ЕГО ФЛАГ CY
00F7 | FA |         |                            ; 
00F8 | 00 |         |                            ; 
00F9 | 2B |         | DCX H                      ; 
00FA | 39 | TRP1:   | DAD SP                     ; 
00FB | D2 |         | JNC TRP2                   ; 
00FC | FF |         |                            ; 
00FD | 00 |         |                            ; 
00FE | 23 |         | INX H                      ; 
00FF | 22 | TRP2:   | SHLD TSAVS                 ; СОХРАНИМ SP ПОЛЬЗОВАТЕЛЯ
0100 | D1 |         |                            ; 
0101 | 0B |         |                            ; 
0102 | 31 |         | LXI SP,TSAVS               ; АДРЕС ОБЛАСТИ СОХРАНЕНИЯ PSW
0103 | D1 |         |                            ; 
0104 | 0B |         |                            ; 
0105 | F5 |         | PUSH PSW                   ; 
0106 | 21 |         | LXI H,RS                   ; АДРЕС ПРИЗНАКА СОСТОЯНИЯ
0107 | D6 |         |                            ; 
0108 | 0B |         |                            ; 
0109 | AF |         | XRA A                      ; 
010A | BE |         | CMP M                      ; СОСТОЯНИЕ "МОНИТОР"
010B | 32 |         | STA UDSP6                  ; ОЧИЩАЕМ ПРИЗНАК МОДИФИКАЦИИ ДАННЫХ
010C | F6 |         |                            ; 
010D | 0B |         |                            ; 
010E | C2 |         | JNZ TRP6                   ; - ЕСЛИ ПРИШЛИ ИЗ ПРОГРАММЫ ПОЛЬЗОВ.
010F | 24 |         |                            ; 
0110 | 01 |         |                            ; 
0111 | 11 | TRP3:   | LXI D,DMT                  ; СООБЩЕНИЕ "НАЧАЛО"
0112 | 41 |         |                            ; 
0113 | 02 |         |                            ; 
0114 | FB |         | EI                         ; 
0115 | AF | TRP4:   | XRA A                      ; 
0116 | D3 |         | OUT LOUT                   ; ОЧИСТИМ ВЫХОДНОЙ РЕГИСТР
0117 | 05 |         |                            ; 
0118 | D3 |         | OUT CTL                    ; СНИМЕМ ЗАЩИТУ ОЗУ
0119 | 08 |         |                            ; 
011A | DF |         | RST 3                      ; СООБЩЕНИЕ - В ОБЛАСТЬ ДИСПЛЕЯ
011B | CD | TRP5:   | CALL KIND                  ; ВВЕДЕМ КЛАВИШУ
011C | 4B |         |                            ; 
011D | 01 |         |                            ; 
011E | CD |         | CALL CFETA                 ; ОПРЕДЕЛЕНИЕ ЖОСТУПНЫХ КЛАВИШ
011F | B8 |         |                            ; 
0120 | 02 |         |                            ; 
0121 | C3 |         | JMP TRP5                   ; 
0122 | 1B |         |                            ; 
0123 | 01 |         |                            ; 
0124 | 77 | TRP6:   | MOV M,A                    ; УСТАНОВИМ СОСТОЯНИЕ "МОНИТОР"
     |    |         |                            ; 
     |    |         |                            ; СОХРАНЕНИЕ РЕГИСТРОВ ПОЛЬЗОВАТЕЛЯ
     |    |         |                            ; 
0125 | F1 |         | POP PSW                    ; 
0126 | E1 |         | POP H                      ; ЗАПИСАТЬ ТЕКУЩЕЕ ЗНАЧЕНИЕ SP В HL
0127 | 23 |         | INX H                      ; 
0128 | 23 |         | INX H                      ; 
0129 | 22 |         | SHLD SAVSL                 ; СОХРАНИТЬ ЕГО В ОЗУ
012A | DE |         |                            ; 
012B | 0B |         |                            ; 
012C | 2B |         | DCX H                      ; 
012D | 2B |         | DCX H                      ; 
012E | F9 |         | SPHL                       ; ВОССТАНОВИТЬ SP ПОЛЬЗОВАТЕЛЯ
012F | E1 |         | POP H                      ; АДРЕС ВОЗВРАТА К ПРОГРАММЕ ПОЛЬЗОВ.
0130 | 22 |         | SHLD SAVPC                 ; СОХРАНИМ ЕГО В ОЗУ
0131 | DC |         |                            ; 
0132 | 0B |         |                            ; 
0133 | 31 |         | LXI SP,0BE8H               ; АДРЕС СОХРАНЕНИЯ РЕГИСТРОВ
0134 | E8 |         |                            ; 
0135 | 0B |         |                            ; 
0136 | 2A |         | LHLD TSAVH                 ; ВОССТАНОВИТЬ HL
0137 | D3 |         |                            ; 
0138 | 0B |         |                            ; 
0139 | F5 |         | PUSH PSW                   ; СОХРАНИМ РЕГИСТРЫ ПОЛЬЗОВАТЕЛЯ
013A | C5 |         | PUSH B                     ; 
013B | D5 |         | PUSH D                     ; 
013C | E5 |         | PUSH H                     ; 
013D | FB |         | EI                         ; 
013E | 00 |         | NOP                        ; 
013F | 00 |         | NOP                        ; 
0140 | 00 |         | NOP                        ; 
0141 | 31 | TRP7:   | LXI SP,SAVPC               ; 
0142 | DC |         |                            ; 
0143 | 0B |         |                            ; 
0144 | C1 |         | POP B                      ; 
0145 | 31 |         | LXI SP,MSP                 ; ВОССТАНОВИТЬ SP МОНИТОРА
0146 | CE |         |                            ; 
0147 | 0B |         |                            ; 
0148 | C3 |         | JMP FETA3                  ; 
0149 | 64 |         |                            ; 
014A | 03 |         |                            ; 
     |    |         |                            ; ВВОД И ОПРЕДЕНИЕ КОДА НАЖАТОЙ КЛАВИШИ
     |    |         |                            ; 
014B | D5 | KIND:   | PUSH D                     ; 
014C | E5 |         | PUSH H                     ; 
014D | CD | KIND1:  | CALL DCD                   ; ВЫДАТЬ СООБЩЕНИЕ НА ДИСПЛЕЙ
014E | E9 |         |                            ; 
014F | 01 |         |                            ; 
0150 | CD |         | CALL KPU                   ; КЛАВИША НАЖАТА?
0151 | 85 |         |                            ; 
0152 | 01 |         |                            ; 
0153 | C2 |         | JNZ KIND1                  ; ДА, ПОДОЖДЕМ ПОКА НЕ ОТПУСТЯТ
0154 | 4D |         |                            ; 
0155 | 01 |         |                            ; 
0156 | CD | KIND2:  | CALL DCD                   ; ВЫДАТЬ СООБЩЕНИЕ НА ДИСПЛЕЙ
0157 | E9 |         |                            ; 
0158 | 01 |         |                            ; 
0159 | CD |         | CALL KPU                   ; 
015A | 85 |         |                            ; 
015B | 01 |         |                            ; 
015C | CA |         | JZ KIND2                   ; ЕСЛИ НЕТ НАЖАТОЙ КЛАВИШИ - ЖДАТЬ
015D | 56 |         |                            ; 
015E | 01 |         |                            ; 
015F | 21 |         | LXI H,UDKY                 ; АДРЕС ОБРАЗА 0 СТРОКИ КЛАВИАТУРЫ
0160 | E8 |         |                            ; 
0161 | 0B |         |                            ; 
0162 | 16 |         | MVI D,0FFH                 ; СЧЕТЧИК СТРОК = -1
0163 | FF |         |                            ; 
0164 | 7E | KIND3:  | MOV A,M                    ; ПОЛУЧИМ ОБРАЗ ТЕКУЩЕЙ СТРОКИ
0165 | FE |         | CPI 0F7H                   ; КЛАВИША "ШАГ МАШИННОГО ЦИКЛА"?
0166 | F7 |         |                            ; 
0167 | CA |         | JZ KIND5                   ; ДА, ПЕРЕЙДЕМ
0168 | 82 |         |                            ; 
0169 | 01 |         |                            ; 
016A | 2F |         | CMA                        ; 
016B | 2C |         | INR L                      ; СЛЕДУЮЩАЯ СТРОКА
016C | 14 |         | INR D                      ; СЛЕДУЮЩИЙ БЛОК ТАБЛИЦЫ СООТВЕТСТВИЯ
016D | A7 |         | ANA A                      ; ЕСТЬ КЛАВИША В ЭТОЙ СТРОКЕ?
016E | CA |         | JZ KIND3                   ; НЕТ, ПЕРЕЙДЕМ НА СЛЕДУЮЩУЮ
016F | 64 |         |                            ; 
0170 | 01 |         |                            ; 
0171 | FE |         | CPI 4                      ; 
0172 | 04 |         |                            ; 
0173 | C2 |         | JNZ KIND4                  ; 
0174 | 77 |         |                            ; 
0175 | 01 |         |                            ; 
0176 | 3D |         | DCR A                      ; УСТАНОВИМ А = 3, ЕСЛИ БЫЛО А = 4
0177 | 82 | KIND4:  | ADD D                      ; ПРИБАВИМ ТРИ РАЗА НОМЕР СТРОКИ ДЛЯ
0178 | 82 |         | ADD D                      ; ПОЛУЧЕНИЯ СМЕЩЕНИЯ В ТАБЛИЦЕ
0179 | 82 |         | ADD D                      ; 
017A | 5F |         | MOV E,A                    ; ЗАПОМНИМ ИНДЕКС ТАБЛ. СООТВЕТСТВИЯ
017B | 16 |         | MVI D,0                    ; 
017C | 00 |         |                            ; 
017D | 21 |         | LXI H,KIT - 1              ; НАЧАЛЬНЫЙ АДРЕС ТАБЛИЦЫ СООТВ
017E | AF |         |                            ; 
017F | 01 |         |                            ; 
0180 | 19 |         | DAD D                      ; АДРЕС КОДА НАЖАТОЙ КЛАВИШИ
0181 | 7E |         | MOV A,M                    ; ПОЛУЧИМ ЕЕ КОД
0182 | E1 | KIND5:  | POP H                      ; 
0183 | D1 |         | POP D                      ; 
0184 | C9 |         | RET                        ; 
     |    |         |                            ; ОПРЕДЕЛЕНИЕ ФАКТА НАЖАТИЯ КАКОЙ-ЛИБО КЛАВИШИ
     |    |         |                            ; 
0185 | C5 | KPU:    | PUSH B                     ; 
0186 | CD |         | CALL KRD                   ; СЧИТАЕМ КЛАВИАТУРУ
0187 | 9A |         |                            ; 
0188 | 01 |         |                            ; 
0189 | 06 |         | MVI B,8                    ; ЧИСЛО СТРОК КЛАВИАТУРЫ
018A | 08 |         |                            ; 
018B | 21 |         | LXI H,UDKY                 ; ОБЛАСТЬ ЗАПИСИ ОБРАЗА КЛАВИАТУРЫ
018C | E8 |         |                            ; 
018D | 0B |         |                            ; 
018E | 3E |         | MVI A,0FFH                 ; 
018F | FF |         |                            ; 
0190 | A6 | KPU1:   | ANA M                      ; ЕСТЬ ЛИ НАЖАТАЯ КЛАВИША?
0191 | 2C |         | INR L                      ; 
0192 | 05 |         | DCR B                      ; 
0193 | C2 |         | JNZ KPU1                   ; ПРОВЕРЯЕМ ВСЕ СТРОКИ КЛАВИАТУРЫ
0194 | 90 |         |                            ; 
0195 | 01 |         |                            ; 
0196 | FE |         | CPI 0FFH                   ; ПРИЗНАК Z = 0, ЕСЛИ НЕТ НАЖАТЫХ КЛАВИШ
0197 | FF |         |                            ; 
0198 | C1 |         | POP B                      ; 
0199 | C9 |         | RET                        ; 
     |    |         |                            ; ЧТЕНИЕ КЛАВИАТУРЫ И ЗАПОМИНАНИЕ ЕЁ ОБРАЗА В ОЗУ (UDKY)
     |    |         |                            ; 
019A | 21 | KRD:    | LXI H,UDKY                 ; ОБЛАСТЬ ЗАПИСИ ОБРАЗА КЛАВИАТУРЫ
019B | E8 |         |                            ; 
019C | 0B |         |                            ; 
019D | AF |         | XRA A                      ; 
019E | D3 |         | OUT DSP                    ; ОЧИСТИМ ДИСПЛЕЙ
019F | 06 |         |                            ; 
01A0 | 2F |         | CMA                        ; 
01A1 | 3D |         | DCR A                      ; 11111110 В - УКАЗАТЕЛЬ СКАНИРОВАНИЯ
01A2 | 37 |         | STC                        ; 
01A3 | D3 | KRD1:   | OUT SCAN                   ; ВЫБЕРЕМ ОДНУ СТРОКУ
01A4 | 07 |         |                            ; 
01A5 | 47 |         | MOV B,A                    ; 
01A6 | DB |         | IN KEY                     ; ВВОДИМ ВЫБРАННУЮ СТРОКУ
01A7 | 06 |         |                            ; 
01A8 | 77 |         | MOV M,A                    ; 
01A9 | 78 |         | MOV A,B                    ; 
01AA | 2C |         | INR L                      ; АДРЕС СЛЕДУЮЩЕЙ СТРОКИ
01AB | 17 |         | RAL                        ; УКАЗАТЕЛЬ - НА СЛЕДУЮЩУЮ СТРОКУ
01AC | DA |         | JC KRD1                    ; ПОВТОРИМ ЕСЛИ НЕ КОНЧИЛИ
01AD | A3 |         |                            ; 
01AE | 01 |         |                            ; 
01AF | C9 |         | RET                        ; 
     |    |         |                            ; ТАБЛИЦА ОПРЕДЕЛЕНИЯ КОДОВ КЛАВИШ
     |    |         |                            ; 
01B0 | 86 | KIT:    | DB 86H                     ; ШАГ КОМАНДЫ
01B1 | 85 |         | DB 85H                     ; ПРОГРАММНЫЙ СЧЕТЧИК
01B2 | 00 |         | DB 0                       ; НЕ ИСПОЛЬЗУЕТСЯ
01B3 | 84 |         | DB 84H                     ; ПУСК
01B4 | 80 |         | DB 80H                     ; ОТЫСКАНИЕ РЕГИСТРА
01B5 | 82 |         | DB 82H                     ; ОТЫСКАНИЕ АДРЕСА
01B6 | 00 |         | DB 0                       ; 0
01B7 | 83 |         | DB 83H                     ; ЗАПИСАТЬ / УВЕЛИЧИТЬ
01B8 | 81 |         | DB 81H                     ; УМЕНЬШИТЬ
01B9 | 01 |         | DB 1                       ; 1
01BA | 02 |         | DB 2                       ; 2
01BB | 03 |         | DB 3                       ; 3
01BC | 04 |         | DB 4                       ; 4
01BD | 05 |         | DB 5                       ; 5
01BE | 06 |         | DB 6                       ; 6
01BF | 07 |         | DB 7                       ; 7
01C0 | 08 |         | DB 8                       ; 8
01C1 | 09 |         | DB 9                       ; 9
01C2 | 0A |         | DB 0AH                     ; A
01C3 | 0B |         | DB 0BH                     ; B
01C4 | 0C |         | DB 0CH                     ; C
01C5 | 0D |         | DB 0DH                     ; D
01C6 | 0E |         | DB 0EH                     ; E
01C7 | 0F |         | DB 0FH                     ; F
     |    |         |                            ; 
     |    |         |                            ; СКАНИРОВАНИЕ ДИСПЛЕЯ (ОДИН РАЗ)
     |    |         |                            ; 
01C8 | F5 | SDS:    | PUSH PSW                   ; 
01C9 | E5 |         | PUSH H                     ; 
01CA | C5 |         | PUSH B                     ; 
01CB | 21 |         | LXI H,DDSP + 5             ; АДРЕС ПОСЛЕДНЕГО СИМВОЛА
01CC | FF |         |                            ; 
01CD | 0B |         |                            ; 
01CE | 06 |         | MVI B,20H                  ; УКАЗАТЕЛЬ - НА ПЯТЫЙ СИМВОЛ
01CF | 20 |         |                            ; 
01D0 | AF | SDS1:   | XRA A                      ; 
01D1 | D3 |         | OUT SCAN                   ; ПОГАСИМ ДИСПЛЕЙ
01D2 | 07 |         |                            ; 
01D3 | 7E |         | MOV A,M                    ; КОД ОТОБРАЖАЕМОГО СИМВОЛА
01D4 | D3 |         | OUT DSP                    ; ЗАПИСЫВАЕМ В РЕГИСТР СЕГМЕНТОВ
01D5 | 06 |         |                            ; 
01D6 | 78 |         | MOV A,B                    ; 
01D7 | D3 |         | OUT SCAN                   ; И ВКЛЮЧАЕМ НУЖНЫЙ ИНДИКАТОР
01D8 | 07 |         |                            ; 
01D9 | CD |         | CALL DELA                  ; ЗАДЕРЖКА 1 МС
01DA | 29 |         |                            ; 
01DB | 04 |         |                            ; 
01DC | 2D |         | DCR L                      ; АДРЕС КОДА СЛЕДУЮЩЕГО СИМВОЛА
01DD | 1F |         | RAR                        ; УКАЗАТЕЛЬ - НА СЛЕДУЮЩИЙ СИМВОЛ
01DE | 47 |         | MOV B,A                    ; 
01DF | D2 |         | JNC SDS1                   ; ОТОБРАЖАЕМ 6 СИМВОЛОВ
01E0 | D0 |         |                            ; 
01E1 | 01 |         |                            ; 
01E2 | AF |         | XRA A                      ; 
01E3 | D3 |         | OUT DSP                    ; ГАСИМ ДИСПЛЕЙ
01E4 | 06 |         |                            ; 
01E5 | C1 |         | POP B                      ; 
01E6 | E1 |         | POP H                      ; 
01E7 | F1 |         | POP PSW                    ; 
01E8 | C9 |         | RET                        ; 
     |    |         |                            ; ДЕКОДИРОВАНИЕ ВЫВОДИМОГО СИМВОЛА
     |    |         |                            ; 
01E9 | F5 | DCD:    | PUSH PSW                   ; 
01EA | C5 |         | PUSH B                     ; 
01EB | D5 |         | PUSH D                     ; 
01EC | E5 |         | PUSH H                     ; 
01ED | 01 |         | LXI B,DDSP                 ; ОБЛАСТЬ ДЕКОДИРОВАННЫХ СИМВОЛОВ
01EE | FA |         |                            ; 
01EF | 0B |         |                            ; 
01F0 | 11 |         | LXI D,UDSP                 ; ОБЛАСТЬ НЕДЕКОДИРОВАННЫХ СИМВОЛОВ
01F1 | F0 |         |                            ; 
01F2 | 0B |         |                            ; 
01F3 | 21 | DCD1:   | LXI H,DCC                  ; ТАБЛИЦА ДЕКОДИРОВАНИЯ СИМВОЛОВ
01F4 | 18 |         |                            ; 
01F5 | 02 |         |                            ; 
01F6 | 1A |         | LDAX D                     ; ПО СМЕЩЕНИЮ В ТАБЛИЦЕ ПОЛУЧИМ КОД
01F7 | D5 |         | PUSH D                     ; 
01F8 | 5F |         | MOV E,A                    ; 
01F9 | 16 |         | MVI D,0                    ; 
01FA | 00 |         |                            ; 
01FB | 19 |         | DAD D                      ; 
01FC | 7E |         | MOV A,M                    ; 
01FD | 02 |         | STAX B                     ; ЗАПОМНИМ ЕГО
01FE | D1 |         | POP D                      ; 
01FF | 1C |         | INR E                      ; 
0200 | 0C |         | INR C                      ; 
0201 | C2 |         | JNZ DCD1                   ; НЕ ПОСЛЕДНИЙ СИМВОЛ - ПЕРЕЙДЕМ
0202 | F3 |         |                            ; 
0203 | 01 |         |                            ; 
0204 | 21 |         | LXI H,DDSP                 ; ПЕРВЫЙ ДЕКОДИРОВАННЫЙ СИМВОЛ
0205 | FA |         |                            ; 
0206 | 0B |         |                            ; 
0207 | 1A |         | LDAX D                     ; АДРЕС ПРИЗНАКА МОДИФИКАЦИИ ДАННЫХ
0208 | A7 |         | ANA A                      ; 
0209 | CA |         | JZ DCD2                    ; 
020A | 10 |         |                            ; 
020B | 02 |         |                            ; 
020C | 7E |         | MOV A,M                    ; 
020D | F6 |         | ORI 080H                   ; ЕСЛИ ПРИЗНАК УСТАНОВЛЕН - ПОСТАВИМ
020E | 80 |         |                            ; 
020F | 77 |         | MOV M,A                    ; ЗАПЯТУЮ В ПОЗИЦИИ ПЕРВОГО СИМВОЛА
0210 | E1 | DCD2:   | POP H                      ; 
0211 | D1 |         | POP D                      ; 
0212 | C1 |         | POP B                      ; 
0213 | F1 |         | POP PSW                    ; 
0214 | CD |         | CALL SDS                   ; ОТОБРАЗИМ СООБЩЕНИЕ
0215 | C8 |         |                            ; 
0216 | 01 |         |                            ; 
0217 | C9 |         | RET                        ; 
     |    |         |                            ; ТАБЛИЦА ДЕКОДИРОВАНИЯ ОТОБРАЖАЕМЫХ СИМВОЛОВ
     |    |         |                            ; 
0218 | 3F | DCC:    | DB 3FH                     ; 0
0219 | 06 |         | DB 6H                      ; 1
021A | 5B |         | DB 5BH                     ; 2
021B | 4F |         | DB 4FH                     ; 3
021C | 66 |         | DB 66H                     ; 4
021D | 6D |         | DB 6DH                     ; 5
021E | 7D |         | DB 7DH                     ; 6
021F | 07 |         | DB 7H                      ; 7
0220 | 7F |         | DB 7FH                     ; 8
0221 | 6F |         | DB 6FH                     ; 9
0222 | 77 |         | DB 77H                     ; A
0223 | 7C |         | DB 7CH                     ; B
0224 | 39 |         | DB 39H                     ; C
0225 | 5E |         | DB 5EH                     ; D
0226 | 79 |         | DB 79H                     ; E
0227 | 71 |         | DB 71H                     ; F
0228 | 00 |         | DB 0                       ; ПРОБЕЛ
0229 | 76 |         | DB 76H                     ; H
022A | 38 |         | DB 38H                     ; L
022B | 6E |         | DB 6EH                     ; Y
022C | 73 |         | DB 73H                     ; Р
022D | 54 |         | DB 54H                     ; Л
022E | 5C |         | DB 5CH                     ; О
022F | 08 |         | DB 8                       ; _
0230 | 37 |         | DB 37H                     ; П
0231 | 40 |         | DB 40H                     ; -
0232 | FF |         | DB 0FFH                    ; ВСЕ СЕГМЕНТЫ
0233 | 50 |         | DB 50H                     ; R
0234 | 30 |         | DB 30H                     ; 1 ЛЕВАЯ
     |    |         |                            ; 
     |    |         |                            ; КОПИРОВАНИЕ ОТОБРАЖАЕМОГО СООБЩЕНИЯ ПО DE В UDSP ОЗУ
     |    |         |                            ; 
0235 | 06 | SDM:    | MVI B,6                    ; КОПИРУЕМ 6 СИМВОЛОВ
0236 | 06 |         |                            ; 
0237 | 1A | SDM1:   | LDAX D                     ; КОПИРУЕМ СИМВОЛ
0238 | 77 |         | MOV M,A                    ; ЗАПОМНИМ ЕГО В UDSPX
0239 | 2C |         | INR L                      ; СЛЕДУЮЩАЯ ЯЧЕЙКА UDSP
023A | 13 |         | INX D                      ; СЛЕДУЮЩИЙ СИМВОЛ
023B | 05 |         | DCR B                      ; ВСЕ СИМВОЛЫ?
023C | C2 |         | JNZ SDM1                   ; НЕТ, ПОВТОРИМ
023D | 37 |         |                            ; 
023E | 02 |         |                            ; 
023F | C1 |         | POP B                      ; 
0240 | C9 |         | RET                        ; 
     |    |         |                            ; ТАБЛИЦА СООБЩЕНИЙ
     |    |         |                            ; 
0241 | 16 | DMT:    | DB 16H,15H,0AH,04H,0AH,11H ; "НАЧАЛО"
0242 | 15 |         |                            ; 
0243 | 0A |         |                            ; 
0244 | 04 |         |                            ; 
0245 | 0A |         |                            ; 
0246 | 11 |         |                            ; 
0247 | 10 | FETCH:  | DB 10H,10H,17H,17H,17H,17H ; "____  "
0248 | 10 |         |                            ; 
0249 | 17 |         |                            ; 
024A | 17 |         |                            ; 
024B | 17 |         |                            ; 
024C | 17 |         |                            ; 
024D | 0A | MA:     | DB 0AH,10H,10H,10H         ; "   A  "
024E | 10 |         |                            ; 
024F | 10 |         |                            ; 
0250 | 10 |         |                            ; 
0251 | 12 | FLG:    | DB 12H,0FH,10H,10H         ; "  FL  "
0252 | 0F |         |                            ; 
0253 | 10 |         |                            ; 
0254 | 10 |         |                            ; 
0255 | 0B | MB:     | DB 0BH,10H,10H,10H         ; "   B  "
0256 | 10 |         |                            ; 
0257 | 10 |         |                            ; 
0258 | 10 |         |                            ; 
0259 | 0C | MC:     | DB 0CH,10H,10H,10H         ; "   C  "
025A | 10 |         |                            ; 
025B | 10 |         |                            ; 
025C | 10 |         |                            ; 
025D | 0D | MD:     | DB 0DH,10H,10H,10H         ; "   D  "
025E | 10 |         |                            ; 
025F | 10 |         |                            ; 
0260 | 10 |         |                            ; 
0261 | 0E | ME:     | DB 0EH,10H,10H,10H         ; "   E  "
0262 | 10 |         |                            ; 
0263 | 10 |         |                            ; 
0264 | 10 |         |                            ; 
0265 | 11 | MH:     | DB 11H,10H,10H,10H         ; "   H  "
0266 | 10 |         |                            ; 
0267 | 10 |         |                            ; 
0268 | 10 |         |                            ; 
0269 | 12 | ML:     | DB 12H,10H,10H,10H         ; "   L  "
026A | 10 |         |                            ; 
026B | 10 |         |                            ; 
026C | 10 |         |                            ; 
026D | 11 | SPH:    | DB 11H,14H,05H,10H         ; " SPH  "
026E | 14 |         |                            ; 
026F | 05 |         |                            ; 
0270 | 10 |         |                            ; 
0271 | 12 | SPL:    | DB 12H,14H,05H,10H         ; " SPL  "
0272 | 14 |         |                            ; 
0273 | 05 |         |                            ; 
0274 | 10 |         |                            ; 
0275 | 11 | PCH:    | DB 11H,0CH,14H,10H         ; " PCH  "
0276 | 0C |         |                            ; 
0277 | 14 |         |                            ; 
0278 | 10 |         |                            ; 
0279 | 12 | PCL:    | DB 12H,0CH,14H             ; " PCL  "
027A | 0C |         |                            ; 
027B | 14 |         |                            ; 
027C | 10 | ROM:    | DB 10H,10H,13H,03H,18H     ; " ПЗУ  "
027D | 10 |         |                            ; 
027E | 13 |         |                            ; 
027F | 03 |         |                            ; 
0280 | 18 |         |                            ; 
0281 | 1A | ALL:    | DB 1AH,1AH,1AH,1AH,1AH,1AH ; ВСЕ СЕГМЕНТЫ
0282 | 1A |         |                            ; 
0283 | 1A |         |                            ; 
0284 | 1A |         |                            ; 
0285 | 1A |         |                            ; 
0286 | 1A |         |                            ; 
0287 | 10 | RAM:    | DB 10H,10H,13H,03H,0,10H   ; " ОЗУ  "
0288 | 10 |         |                            ; 
0289 | 13 |         |                            ; 
028A | 03 |         |                            ; 
028B | 00 |         |                            ; 
028C | 10 |         |                            ; 
028D | 1B | PPM:    | DB 1BH,0EH,14H,05H         ; " SPER "
028E | 0E |         |                            ; 
028F | 14 |         |                            ; 
0290 | 05 |         |                            ; 
0291 | 10 | BLNKM:  | DB 10H,10H,10H,10H,10H,10H ; "      "
0292 | 10 |         |                            ; 
0293 | 10 |         |                            ; 
0294 | 10 |         |                            ; 
0295 | 10 |         |                            ; 
0296 | 10 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ОЧИСТКА ДИСПЛЕЯ
     |    |         |                            ; 
0297 | 11 |         | LXI D,BLNKM                ; СООБЩЕНИЕ "  "
0298 | 91 |         |                            ; 
0299 | 02 |         |                            ; 
029A | DF |         | RST 3                      ; ЗАГРУЗИМ ЕГО
029B | CD |         | CALL DCD                   ; ВЫВЕДЕМ НА ДИСПЛЕЙ
029C | E9 |         |                            ; 
029D | 01 |         |                            ; 
029E | C9 |         | RET                        ; 
     |    |         |                            ; ТАБЛИЦА ПЕРЕХОДОВ ПО УПРАВЛЯЮЩИМ КЛАВИШАМ
     |    |         |                            ; 
029F | FE | CHDSS:  | CPI 0F7H                   ; ШАГ МАШИННОГО ЦИКЛА
02A0 | F7 |         |                            ; 
02A1 | CA |         | JZ HDSS                    ; 
02A2 | F7 |         |                            ; 
02A3 | 03 |         |                            ; 
02A4 | FE | CINSS:  | CPI 086H                   ; ШАГ КОМАНДЫ
02A5 | 86 |         |                            ; 
02A6 | CA |         | JZ INSS                    ; 
02A7 | F1 |         |                            ; 
02A8 | 03 |         |                            ; 
02A9 | FE | CRUN:   | CPI 84H                    ; ПУСК
02AA | 84 |         |                            ; 
02AB | CA |         | JZ RUN                     ; 
02AC | C2 |         |                            ; 
02AD | 03 |         |                            ; 
02AE | FE | CSTRM:  | CPI 083H                   ; УВЕЛИЧИТЬ И ЗАПИСАТЬ (ПАМЯТЬ)
02AF | 83 |         |                            ; 
02B0 | CA |         | JZ STRM                    ; 
02B1 | AF |         |                            ; 
02B2 | 03 |         |                            ; 
02B3 | FE | CDCRM:  | CPI 81H                    ; УМЕНЬШИТЬ (ПАМЯТЬ)
02B4 | 81 |         |                            ; 
02B5 | CA |         | JZ DCRM                    ; 
02B6 | AA |         |                            ; 
02B7 | 03 |         |                            ; 
02B8 | FE | CFETA:  | CPI 82H                    ; ОТЫСКАТЬ АДРЕС
02B9 | 82 |         |                            ; 
02BA | CA |         | JZ FETA                    ; 
02BB | 28 |         |                            ; 
02BC | 03 |         |                            ; 
02BD | FE | CFETB:  | CPI 85H                    ; ПРОГРАММНЫЙ СЧЕТЧИК
02BE | 85 |         |                            ; 
02BF | CA |         | JZ TRP7                    ; 
02C0 | 41 |         |                            ; 
02C1 | 01 |         |                            ; 
02C2 | FE | CFETR:  | CPI 80H                    ; ОТЫСКАТЬ РЕГИСТР
02C3 | 80 |         |                            ; 
02C4 | CA |         | JZ FETR                    ; 
02C5 | D5 |         |                            ; 
02C6 | 02 |         |                            ; 
02C7 | C9 |         | RET                        ; 
02C8 | FE | CSTRR:  | CPI 83H                    ; ЗАПИСАТЬ И УВЕЛИЧИТЬ (РЕГИСТР)
02C9 | 83 |         |                            ; 
02CA | CA |         | JZ STRR                    ; 
02CB | 13 |         |                            ; 
02CC | 04 |         |                            ; 
02CD | FE | CDCRR:  | CPI 81H                    ; УМЕНЬШИТЬ (РЕГИСТР)
02CE | 81 |         |                            ; 
02CF | CA |         | JZ DCRR                    ; 
02D0 | FD |         |                            ; 
02D1 | 03 |         |                            ; 
02D2 | C3 |         | JMP CFETA                  ; 
02D3 | B8 |         |                            ; 
02D4 | 02 |         |                            ; 
     |    |         |                            ; ОТЫСКАНИЕ РЕГИСТРА
     |    |         |                            ; 
02D5 | E1 | FETR:   | POP H                      ; ОСВОБОДИТЬ СТЕК
02D6 | 21 |         | LXI H,MA                   ; СООБЩЕНИЕ "  А  "
02D7 | 4D |         |                            ; 
02D8 | 02 |         |                            ; 
02D9 | 01 |         | LXI B,SAVA                 ; ОБЛАСТЬ СОХРАНЕНИЯ РЕГИСТРА А
02DA | E7 |         |                            ; 
02DB | 0B |         |                            ; 
02DC | 2B | FETR1:  | DCX H                      ; АДРЕС ДЛЯ ЗАПИСИ ДАННЫХ НА ДИСПЛЕЙ
02DD | 2B |         | DCX H                      ; 
02DE | 22 | FETR2:  | SHLD RMP                   ; СОХРАНИМ УКАЗАТЕЛЬ СООБЩЕНИЯ
02DF | F8 |         |                            ; 
02E0 | 0B |         |                            ; 
02E1 | EB |         | XCHG                       ; 
02E2 | DF |         | RST 3                      ; ЗАПИСАТЬ СООБЩЕНИЕ НА ДИСПЛЕЙ
02E3 | 0A |         | LDAX B                     ; ПОЛУЧИТЬ СОХРАНЕННОЕ ЗНАЧЕНИЕ А
02E4 | 5F |         | MOV E,A                    ; РАЗДЕЛИТЬ ЕГО НА ПОЛУБАЙТЫ
02E5 | 21 |         | LXI H,UDSP + 1             ; 
02E6 | F1 |         |                            ; 
02E7 | 0B |         |                            ; 
02E8 | CD |         | CALL FETA7                 ; 
02E9 | 9C |         |                            ; 
02EA | 03 |         |                            ; 
02EB | 00 |         | DS 6                       ; 
02EC | 00 |         |                            ; 
02ED | 00 |         |                            ; 
02EE | 00 |         |                            ; 
02EF | 00 |         |                            ; 
02F0 | 00 |         |                            ; 
02F1 | CD | FETR3:  | CALL KIND                  ; ВВЕДЕМ КЛАВИШУ
02F2 | 4B |         |                            ; 
02F3 | 01 |         |                            ; 
02F4 | CD |         | CALL CSTRR                 ; УПРАВЛЯЮЩАЯ КЛАВИША?
02F5 | C8 |         |                            ; 
02F6 | 02 |         |                            ; 
02F7 | D2 |         | JNC FETR3                  ; ЕСЛИ НЕ УПРАВЛЯЮЩАЯ И НЕ ЦИФРА
02F8 | F1 |         |                            ; 
02F9 | 02 |         |                            ; 
02FA | 5F |         | MOV E,A                    ; 
02FB | 2C |         | INR L                      ; HL - HA UDSP1
02FC | 36 |         | MVI M,000H                 ; ЗАПИШЕМ В НЕГО 0
02FD | 00 |         |                            ; 
02FE | 2D | FETR4:  | DCR L                      ; НАЗАД НА UDSP0
02FF | 73 |         | MOV M,E                    ; ЗАПОМНИМ ТАМ ВВЕДЕННУЮ ЦИФРУ
0300 | CD | FETR5:  | CALL DPS                   ; УСТАНОВИМ УКАЗАТЕЛЬ ВВОДА - ТОЧКУ
0301 | 19 |         |                            ; 
0302 | 03 |         |                            ; 
     |    |         |                            ; В МЛАДШЕМ ЗНАКЕ ДИСПЛЕЯ ВВЕДЕМ
     |    |         |                            ; СЛЕДУЮЩУЮ КЛАВИШУ
0303 | CD |         | CALL CSTRR                 ; УПРАВЛЯЮЩАЯ КЛАВИША?
0304 | C8 |         |                            ; 
0305 | 02 |         |                            ; 
0306 | D2 |         | JNC FETR5                  ; ЕСЛИ НЕ УПРАВЛЯЮЩАЯ И НЕ ЦИФРА
0307 | 00 |         |                            ; 
0308 | 03 |         |                            ; 
0309 | 2C |         | INR L                      ; СДВИНЕМ ДАННЫЕ НА ДИСПЛЕЕ ВЛЕВО
030A | 53 |         | MOV D,E                    ; 
030B | 5F |         | MOV E,A                    ; И
030C | 72 |         | MOV M,D                    ; 
030D | C3 |         | JMP FETR4                  ; ПРОДОЛЖИМ....
030E | FE |         |                            ; 
030F | 02 |         |                            ; 
0310 | 00 |         | DS 9                       ; 
0311 | 00 |         |                            ; 
0312 | 00 |         |                            ; 
0313 | 00 |         |                            ; 
0314 | 00 |         |                            ; 
0315 | 00 |         |                            ; 
0316 | 00 |         |                            ; 
0317 | 00 |         |                            ; 
0318 | 00 |         |                            ; 
     |    |         |                            ; ОСТАНОВКА ДЕСЯТИЧНОЙ ТОЧКИ
     |    |         |                            ; 
0319 | 3E | DPS:    | MVI A,1                    ; ФЛАГ ВКЛЮЧЕНИЯ ДЕСЯТИЧНОЙ ТОЧКИ
031A | 01 |         |                            ; 
031B | 32 |         | STA UDSP6                  ; УСТАНОВИМ ЕГО
031C | F6 |         |                            ; 
031D | 0B |         |                            ; 
031E | CD |         | CALL KIND                  ; ВВЕДЕМ СЛЕДУЮЩУЮ КЛАВИШУ
031F | 4B |         |                            ; 
0320 | 01 |         |                            ; 
0321 | F5 |         | PUSH PSW                   ; 
0322 | AF |         | XRA A                      ; СБРОСИМ ФЛАГ
0323 | 32 |         | STA UDSP6                  ; 
0324 | F6 |         |                            ; 
0325 | 0B |         |                            ; 
0326 | F1 |         | POP PSW                    ; 
0327 | C9 |         | RET                        ; 
     |    |         |                            ; ОТЫСКАНИЕ АДРЕСА
     |    |         |                            ; 
0328 | D1 | FETA:   | POP D                      ; ОСВОБОДИТЬ СТЕК
0329 | 11 | FETAR:  | LXI D,FETCH                ; АДРЕС СООБЩЕНИЯ "____"
032A | 47 |         |                            ; 
032B | 02 |         |                            ; 
032C | DF |         | RST 3                      ; СКОПИРУЕМ
032D | 0E |         | MVI C,4                    ; НУЖНО ВВЕСТИ 4 ЦИФРЫ АДРЕСА
032E | 04 |         |                            ; 
032F | CD | FETA1:  | CALL KIND                  ; ВВЕДЕМ КЛАВИШУ
0330 | 4B |         |                            ; 
0331 | 01 |         |                            ; 
0332 | CD |         | CALL CFETA                 ; УПРАВЛЯЮЩАЯ?
0333 | B8 |         |                            ; 
0334 | 02 |         |                            ; 
0335 | D2 |         | JNC FETA1                  ; 
0336 | 2F |         |                            ; 
0337 | 03 |         |                            ; 
0338 | 21 |         | LXI H,UDSP6                ; 
0339 | F6 |         |                            ; 
033A | 0B |         |                            ; 
033B | 47 |         | MOV B,A                    ; СДВИГАЕМ АДРЕС НА ДИСПЛЕЕ ВЛЕВО
033C | FE |         | CPI 1                      ; 
033D | 01 |         |                            ; 
033E | C2 |         | JNZ FETA8                  ; 
033F | 4A |         |                            ; 
0340 | 03 |         |                            ; 
0341 | 3E |         | MVI A,4                    ; 
0342 | 04 |         |                            ; 
0343 | B9 |         | CMP C                      ; 
0344 | C2 |         | JNZ FETA8                  ; 
0345 | 4A |         |                            ; 
0346 | 03 |         |                            ; 
0347 | C3 |         | JMP FETAR                  ; 
0348 | 29 |         |                            ; 
0349 | 03 |         |                            ; 
034A | 78 | FETA8:  | MOV A,B                    ; 
034B | 06 |         | MVI B,4                    ; 
034C | 04 |         |                            ; 
034D | 2D | FETA2:  | DCR L                      ; 
034E | 2D |         | DCR L                      ; 
034F | 56 |         | MOV D,M                    ; 
0350 | 2C |         | INR L                      ; 
0351 | 72 |         | MOV M,D                    ; 
0352 | 05 |         | DCR B                      ; 
0353 | C2 |         | JNZ FETA2                  ; 
0354 | 4D |         |                            ; 
0355 | 03 |         |                            ; 
0356 | 77 |         | MOV M,A                    ; ПОСЛЕДНЯЯ ЦИФРА - МЛАДШИЙ ЗНАК
0357 | 0D |         | DCR C                      ; КОНТРОЛЬ НА ВВОД ВСЕХ ЦИФР
0358 | C2 |         | JNZ FETA1                  ; 
0359 | 2F |         |                            ; 
035A | 03 |         |                            ; 
035B | CD |         | CALL FETA6                 ; УПАКУЕМ ПОЛУЧЕННЫЙ АДРЕС В BC
035C | 93 |         |                            ; 
035D | 03 |         |                            ; 
035E | 4F |         | MOV C,A                    ; 
035F | 2C |         | INR L                      ; 
0360 | CD |         | CALL FETA6                 ; 
0361 | 93 |         |                            ; 
0362 | 03 |         |                            ; 
0363 | 47 |         | MOV B,A                    ; 
0364 | 21 | FETA3:  | LXI H,UDSP + 5             ; РАСПАКУЕМ АДРЕС ИЗ BC И ЗАПИШЕМ
0365 | F5 |         |                            ; 
0366 | 0B |         |                            ; 
0367 | 58 |         | MOV E,B                    ; 
0368 | CD |         | CALL FETA7                 ; 
0369 | 9C |         |                            ; 
036A | 03 |         |                            ; 
036B | 2D |         | DCR L                      ; 
036C | 59 |         | MOV E,C                    ; 
036D | CD |         | CALL FETA7                 ; 
036E | 9C |         |                            ; 
036F | 03 |         |                            ; 
0370 | 2D |         | DCR L                      ; 
0371 | 0A |         | LDAX B                     ; ПОЛУЧИМ ДАННЫЕ ИЗ УКАЗАННОГО АДРЕСА
0372 | 5F |         | MOV E,A                    ; РАСПАКУЕМ ИХ И ЗАПИШЕМ НА ДИСПЛЕЙ
0373 | CD |         | CALL FETA7                 ; 
0374 | 9C |         |                            ; 
0375 | 03 |         |                            ; 
     |    |         |                            ; ИЗМЕНЕНИЕ ДАННЫХ
     |    |         |                            ; 
0376 | CD |         | CALL KIND                  ; ВЫВЕЛИ СООБЩЕНИЕ И ЖДЕМ ВВОДА
0377 | 4B |         |                            ; 
0378 | 01 |         |                            ; 
0379 | CD |         | CALL CHDSS                 ; НЕ ВЕРНЕМСЯ, ЕСЛИ ОНА УПРАВЛЯЮЩАЯ
037A | 9F |         |                            ; 
037B | 02 |         |                            ; 
037C | 5F |         | MOV E,A                    ; ДАВННЫЕ ЗАПИШЕМ В E
037D | 77 |         | MOV M,A                    ; И В UDSP0
037E | 2C |         | INR L                      ; 
037F | 36 |         | MVI M,0                    ; В UDSP1 ЗАПИШЕМ 0
0380 | 00 |         |                            ; 
0381 | 2D | FETA4:  | DCR L                      ; 
0382 | 73 |         | MOV M,E                    ; ВВЕДЕННУЮ ЦИФРУ - В UDSP0
0383 | CD | FETA5:  | CALL DPS                   ; ВКЛЮЧАЕМ ТОЧКУ И ВВОДИМ КЛАВИШУ
0384 | 19 |         |                            ; 
0385 | 03 |         |                            ; 
0386 | CD |         | CALL CSTRM                 ; УПРАВЛЯЮЩАЯ?
0387 | AE |         |                            ; 
0388 | 02 |         |                            ; 
0389 | D2 |         | JNC FETA5                  ; 
038A | 83 |         |                            ; 
038B | 03 |         |                            ; 
038C | 2C |         | INR L                      ; СДВИГАЕМ ДАННЫЕ НА ДИСПЛЕЕ
038D | 53 |         | MOV D,E                    ; 
038E | 5F |         | MOV E,A                    ; 
038F | 72 |         | MOV M,D                    ; 
0390 | C3 |         | JMP FETA4                  ; ПРОДОЛЖАЕМ ВВОД
0391 | 81 |         |                            ; 
0392 | 03 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; УПАКОВКА ДВУХ ШЕСТНАДЦАТИРИЧНЫХ ЧИСЕЛ В РЕГИСТРЕ А
     |    |         |                            ; 
0393 | 5E | FETA6:  | MOV E,M                    ; МЛАДШАЯ ШЕСТНАДЦАТИРИЧНАЯ ЦИФРА
0394 | 23 |         | INX H                      ; 
0395 | 7E |         | MOV A,M                    ; СТАРШАЯ
0396 | 07 |         | RLC                        ; 
0397 | 07 |         | RLC                        ; 
0398 | 07 |         | RLC                        ; 
0399 | 07 |         | RLC                        ; 
039A | B3 |         | ORA E                      ; УПАКУЕМ В РЕГИСТРЕ А
039B | C9 |         | RET                        ; 
     |    |         |                            ; РАСПАКОВКА ШЕСТНАДЦАТИРИЧНОГО ЧИСЛА ИЗ РЕГИСТРА Е
     |    |         |                            ; 
039C | 7B | FETA7:  | MOV A,E                    ; ВЫДЕЛЯЕМ МЛАДШУЮ ЦИФРУ
039D | 0F |         | RRC                        ; 
039E | 0F |         | RRC                        ; 
039F | 0F |         | RRC                        ; 
03A0 | 0F |         | RRC                        ; 
03A1 | 16 |         | MVI D,0FH                  ; 
03A2 | 0F |         |                            ; 
03A3 | A2 |         | ANA D                      ; 
03A4 | 77 |         | MOV M,A                    ; ЗАПИСАЛИ
03A5 | 2D |         | DCR L                      ; 
03A6 | 7B |         | MOV A,E                    ; ВЫДЕЛЯЕМ СТАРШУЮ ЦИФРУ
03A7 | A2 |         | ANA D                      ; 
03A8 | 77 |         | MOV M,A                    ; ЗАПИСАЛИ
03A9 | C9 |         | RET                        ; 
     |    |         |                            ; УМЕНЬШЕНИЕ АДРЕСА ПАМЯТИ
     |    |         |                            ; 
03AA | 0B | DCRM:   | DCX B                      ; УМЕНЬШИТЬ АДРЕС
03AB | E1 |         | POP H                      ; 
03AC | C3 |         | JMP FETA3                  ; ОТОБРАЗИТЬ ЕГО С СОДЕРЖИМЫМ
03AD | 64 |         |                            ; 
03AE | 03 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ЗАПИСЬ ДАННЫХ В ПАМЯТЬ И УВЕЛИЧЕНИЕ АДРЕСА
     |    |         |                            ; 
03AF | D1 | STRM:   | POP D                      ; ОСВОБОДИТЬ СТЕК
03B0 | CD |         | CALL FETA6                 ; УПАКУЕМ ДАННЫЕ С ДИСПЛЕЯ
03B1 | 93 |         |                            ; 
03B2 | 03 |         |                            ; 
03B3 | 5F |         | MOV E,A                    ; 
03B4 | 02 |         | STAX B                     ; ЗАПИШЕМ И
03B5 | 0A |         | LDAX B                     ; ПРОВЕРИМ КАК ЗАПИСАЛОСЬ
03B6 | BB |         | CMP E                      ; 
03B7 | 03 |         | INX B                      ; УКАЖЕМ НА СЛЕДУЮЩИЙ АДРЕС
03B8 | CA |         | JZ FETA3                   ; НОРМАЛЬНО - ОТОБРАЗИМ СЛЕДУЮЩИЙ
03B9 | 64 |         |                            ; 
03BA | 03 |         |                            ; 
03BB | 0B |         | DCX B                      ; ЕСЛИ НЕТ - ВОССТАНОВИМ АДРЕС,
03BC | C5 |         | PUSH B                     ; 
03BD | D7 |         | RST 2                      ; ПОПИЩИМ И
03BE | C1 |         | POP B                      ; 
03BF | C3 |         | JMP FETA3                  ; ОТОБРАЗИМ ЕГО С СОДЕРЖИМЫМ
03C0 | 64 |         |                            ; 
03C1 | 03 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ЗАПУСК ПРОГРАММЫ ПО АДРЕСУ НА ДИСПЛЕЕ
     |    |         |                            ; 
03C2 | 21 | RUN:    | LXI H,9D3H                 ; КОМАНДА КВЛЮЧЕНИЯ ЗАЩТЬЫ ОЗУ
03C3 | D3 |         |                            ; 
03C4 | 09 |         |                            ; 
03C5 | 22 | RUN1:   | SHLD RAML1                 ; ЗАПИШЕМ ЕЕ
03C6 | D5 |         |                            ; 
03C7 | 0B |         |                            ; 
03C8 | 21 |         | LXI H,0C300H               ; КОМАНДА ПЕРЕХОДА НА ПРОГРАММУ
03C9 | 00 |         |                            ; 
03CA | C3 |         |                            ; 
03CB | 22 |         | SHLD RAML2                 ; ПОЛЬЗОВАТЕЛЯ (JMP USER)
03CC | D7 |         |                            ; 
03CD | 0B |         |                            ; 
03CE | 31 |         | LXI SP,SAVRG               ; АДРЕС ПРОГРАММЫ ПОЛЬЗОВАТЕЛЯ
03CF | DB |         |                            ; 
03D0 | 0B |         |                            ; 
03D1 | C5 |         | PUSH B                     ; 
03D2 | 21 |         | LXI H,SAVSH                ; ВОССТАНОВИМ СТАРШИЙ БАЙТ SP
03D3 | DF |         |                            ; 
03D4 | 0B |         |                            ; 
03D5 | 36 |         | MVI M,0BH                  ; ПОЛЬЗОВАТЕЛЯ
03D6 | 0B |         |                            ; 
03D7 | 2B |         | DCX H                      ; 
03D8 | 7E |         | MOV A,M                    ; 
03D9 | FE |         | CPI 40H                    ; ПРОВЕРИМ НЕ ВЫШЕЛ ЛИ ОН ЗА
03DA | 40 |         |                            ; 
     |    |         |                            ; ГРАНИЦУ ОТВЕДЕННОЙ ОБЛАСТИ
03DB | D2 |         | JNC RUN2                   ; ЕСЛИ НЕТ
03DC | E0 |         |                            ; 
03DD | 03 |         |                            ; 
03DE | 36 |         | MVI M,0B0H                 ; ИНАЧЕ УСТАНОВИМ ЕГО ЗАНОВО
03DF | B0 |         |                            ; 
03E0 | 31 | RUN2:   | LXI SP,SAVE                ; ЗАГРУЗИМ РЕГИСТРЫ ПОЛЬЗОВАТЕЛЯ
03E1 | E2 |         |                            ; 
03E2 | 0B |         |                            ; 
03E3 | D1 |         | POP D                      ; 
03E4 | C1 |         | POP B                      ; 
03E5 | F1 |         | POP PSW                    ; 
03E6 | 31 |         | LXI SP,SAVSL               ; ВОССТАНОВИМ МЛАДШИЙ БАЙТ SP
03E7 | DE |         |                            ; 
03E8 | 0B |         |                            ; 
03E9 | E1 |         | POP H                      ; ПОЛЬЗОВАТЕЛЯ
03EA | F9 |         | SPHL                       ; ПЕРЕЗАГРУЗИМ SP
03EB | 2A |         | LHLD SAVL                  ; 
03EC | E0 |         |                            ; 
03ED | 0B |         |                            ; 
03EE | C3 |         | JMP RAML1                  ; ЗАПУСК ПРОГРАММЫ ПОЛЬЗОВАТЕЛЯ
03EF | D5 |         |                            ; 
03F0 | 0B |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ШАГ КОМАНДЫ
     |    |         |                            ; 
03F1 | 21 | INSS:   | LXI H,0ED3H                ; ВКЛЮЧЕНИЕ ЗАЩИТЫ ОЗУ И ПРИЗНАКА
03F2 | D3 |         |                            ; 
03F3 | 0E |         |                            ; 
     |    |         |                            ; ШАГ КОМАНДЫ
03F4 | C3 |         | JMP RUN1                   ; ЗВГРУЗКА РЕГИСТРОВ И ПУСК
03F5 | C5 |         |                            ; 
03F6 | 03 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ШАГ ЦИКЛА
     |    |         |                            ; 
03F7 | 21 | HDSS:   | LXI H,TSAVH                ; ВКЛЮЧЕНИЕ ЗАЩИТЫ ОЗУ И ПРИЗНАКА
03F8 | D3 |         |                            ; 
03F9 | 0B |         |                            ; 
     |    |         |                            ; ШАГ ЦИКЛА
03FA | C3 |         | JMP RUN1                   ; ЗВГРУЗКА РЕГИСТРОВ И ПУСК
03FB | C5 |         |                            ; 
03FC | 03 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; УМЕНЬШЕНИЕ НОМЕРА ОТОБРАЖАЕМОГО РЕГИСТРА
     |    |         |                            ; 
03FD | D1 | DCRR:   | POP D                      ; ОСВОБОДИТЬ СТЕК
03FE | 03 |         | INX B                      ; УКАЗАТЕЛЬ - НА ОБЛАСТЬ СЛЕДУЮЩЕГО РГ
03FF | 2A |         | LHLD RMP                   ; УКАЗАТЕЛЬ СООБЩЕНИЯ О ТЕКУЩЕМ РГ
0400 | F8 |         |                            ; 
0401 | 0B |         |                            ; 
0402 | 2B |         | DCX H                      ; 
0403 | 2B |         | DCX H                      ; 
0404 | 3E |         | MVI A,0E8H                 ; ПОСМОТРЕЛИ ВСЕ РЕГИСТРЫ?
0405 | E8 |         |                            ; 
0406 | B9 |         | CMP C                      ; 
0407 | C2 |         | JNZ FETR1                  ; НЕТ
0408 | DC |         |                            ; 
0409 | 02 |         |                            ; 
040A | 01 |         | LXI B,SAVPC                ; ДА, НАЧНЕМ СНАЧАЛА
040B | DC |         |                            ; 
040C | 0B |         |                            ; 
040D | 21 |         | LXI H,PCL                  ; 
040E | 79 |         |                            ; 
040F | 02 |         |                            ; 
0410 | C3 |         | JMP FETR1                  ; 
0411 | DC |         |                            ; 
0412 | 02 |         |                            ; 
     |    |         |                            ; ЗАПИСЬ ДАННЫХ В РЕГИСТР И УВЕЛИЧЕНИЕ ЕГО НОМЕРА
     |    |         |                            ; 
0413 | D1 | STRR:   | POP D                      ; ОСВОБОДИТЬ СТЕК
0414 | CD |         | CALL FETA6                 ; УПАКУЕМ ДАННЫЕ С ДИСПЛЕЯ
0415 | 93 |         |                            ; 
0416 | 03 |         |                            ; 
0417 | 02 |         | STAX B                     ; ЗАПОМНИМ
0418 | 0B |         | DCX B                      ; УКАЗАТЕЛЬ - НА ОБЛАСТЬ СЛЕДУЮЩЕГО РГ
0419 | 2A |         | LHLD RMP                   ; УКАЗАТЕЛЬ СООБЩЕНИЯ В ТЕКУЩЕМ РГ
041A | F8 |         |                            ; 
041B | 0B |         |                            ; 
041C | 23 |         | INX H                      ; 
041D | 23 |         | INX H                      ; 
041E | 23 |         | INX H                      ; 
041F | 23 |         | INX H                      ; 
0420 | 3E |         | MVI A,0DBH                 ; ПОСМОТРЕЛИ ВСЕ РЕГИСТРЫ?
0421 | DB |         |                            ; 
0422 | B9 |         | CMP C                      ; 
0423 | CA |         | JZ FETR                    ; ДА
0424 | D5 |         |                            ; 
0425 | 02 |         |                            ; 
0426 | C3 |         | JMP FETR2                  ; НЕТ
0427 | DE |         |                            ; 
0428 | 02 |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; ЗАДЕРЖКА ПРИМЕРНО НА 1 МС
     |    |         |                            ; 
0429 | C5 | DELA:   | PUSH B                     ; 
042A | 01 |         | LXI B,1                    ; ФИКСИРОВАННОЕ ЗНАЧЕНИЕ 1 МС
042B | 01 |         |                            ; 
042C | 00 |         |                            ; 
042D | C3 |         | JMP DEL1                   ; 
042E | 31 |         |                            ; 
042F | 04 |         |                            ; 
     |    |         |                            ; ЗАДЕРЖКА С ДЛИТЕЛЬНОСТЬЮ, ЗАДАВАЕМОЙ BC В МС
     |    |         |                            ; 
0430 | C5 | DELB:   | PUSH B                     ; 
0431 | F5 | DEL1:   | PUSH PSW                   ; 
0432 | AF |         | XRA A                      ; 
0433 | D5 |         | PUSH D                     ; 
0434 | 16 | DEL2:   | MVI D,TIME                 ; ЦИКЛ ЗАДЕРЖКИ В 1 МС
0435 | 67 |         |                            ; 
0436 | 15 | DEL3:   | DCR D                      ; СЧЕТЧИК ЭТОГО ЦИКЛА
0437 | C2 |         | JNZ DEL3                   ; 
0438 | 36 |         |                            ; 
0439 | 04 |         |                            ; 
043A | 0B |         | DCX B                      ; СЧЕТЧИК КОЛИЧЕСТВА МС
043B | B8 |         | CMP B                      ; 
043C | C2 |         | JNZ DEL2                   ; 
043D | 34 |         |                            ; 
043E | 04 |         |                            ; 
043F | B9 |         | CMP C                      ; 
0440 | C2 |         | JNZ DEL2                   ; ЕЩЕ НЕ КОНЧИЛИ
0441 | 34 |         |                            ; 
0442 | 04 |         |                            ; 
0443 | D1 |         | POP D                      ; 
0444 | F1 |         | POP PSW                    ; 
0445 | C1 |         | POP B                      ; 
0446 | C9 |         | RET                        ; 
     |    |         |                            ; ГЕНЕРАЦИЯ ЗВУКОВОГО СИГНАЛА
     |    |         |                            ; 
0447 | 2E | BEEP2:  | MVI L,0FFH                 ; МНОЖИТЕЛЬ ДЛИТЕЛЬНОСТИ
0448 | FF |         |                            ; 
0449 | 26 |         | MVI H,0                    ; ВЫХОДНОЙ ФЛАГ
044A | 00 |         |                            ; 
044B | 48 |         | MOV C,B                    ; СЧЕТЧИК ЧАСТОТЫ
044C | 5A |         | MOV E,D                    ; СЧЕТЧИК ДЛИТЕЛЬНОСТИ
044D | E5 |         | PUSH H                     ; 
044E | 0D | BEEP3:  | DCR C                      ; 
044F | C2 |         | JNZ BEEP6                  ; ЗАДЕРЖКА НА ПОЛПЕРИОДА ЧАСТОТЫ
0450 | 70 |         |                            ; 
0451 | 04 |         |                            ; 
0452 | 48 |         | MOV C,B                    ; ВОССТАНАВЛИВАЕМ СЧЕТЧИК ЧАСТОТЫ
0453 | 7C |         | MOV A,H                    ; ИНВЕРТИРУЕМ ВЫХОДНОЙ ФЛАГ
0454 | 2F |         | CMA                        ; 
0455 | B7 |         | ORA A                      ; 
0456 | 67 |         | MOV H,A                    ; 
0457 | C2 |         | JNZ BEEP4                  ; ПРОВЕРКА ВЫХОДНОГО ФЛАГА
0458 | 60 |         |                            ; 
0459 | 04 |         |                            ; 
045A | AF |         | XRA A                      ; 
045B | D3 |         | OUT OTR                    ; ВЫКЛЮЧИЛИ ВЫХОД
045C | 04 |         |                            ; 
045D | C3 |         | JMP BEEP5                  ; 
045E | 65 |         |                            ; 
045F | 04 |         |                            ; 
0460 | 3E | BEEP4:  | MVI A,0FFH                 ; ВКЛЮЧИМ ВХОД
0461 | FF |         |                            ; 
0462 | D3 |         | OUT OTR                    ; 
0463 | 04 |         |                            ; 
0464 | BE |         | CMP M                      ; 
0465 | F1 | BEEP5:  | POP PSW                    ; 
0466 | F5 |         | PUSH PSW                   ; 
0467 | B7 |         | ORA A                      ; 
0468 | CA |         | JZ BEEP6                   ; ПРОДОЛЖАЕМ, ЕСЛИ НЕ ЗАКОНЧИЛИ
0469 | 70 |         |                            ; 
046A | 04 |         |                            ; 
046B | 7C |         | MOV A,H                    ; ВОЗВРАЩАЕМСЯ, ЕСЛИ ВЫХОД ВЫКЛЮЧЕН
046C | B7 |         | ORA A                      ; 
046D | CA |         | JZ BEEP7                   ; 
046E | 7F |         |                            ; 
046F | 04 |         |                            ; 
0470 | 1D | BEEP6:  | DCR E                      ; СЧЕТЧИК ДЛИТЕЛЬНОСТИ
0471 | C2 |         | JNZ BEEP3                  ; 
0472 | 4E |         |                            ; 
0473 | 04 |         |                            ; 
0474 | 5A |         | MOV E,D                    ; ВОССТАНАВЛИВАЕМ ЕГО
0475 | 2D |         | DCR L                      ; 
0476 | C2 |         | JNZ BEEP3                  ; 
0477 | 4E |         |                            ; 
0478 | 04 |         |                            ; 
0479 | F1 |         | POP PSW                    ; 
047A | 2F |         | CMA                        ; 
047B | F5 |         | PUSH PSW                   ; 
047C | C3 |         | JMP BEEP3                  ; 
047D | 4E |         |                            ; 
047E | 04 |         |                            ; 
047F | F1 | BEEP7:  | POP PSW                    ; 
0480 | C9 |         | RET                        ; 
     |    |         |                            ; UNKNOWN SECTION
     |    |         |                            ; 
     |    |         |                            ; 
     |    |         |                            ; СЕКУНДОМЕР
     |    |         |                            ; КЛ. 0 - СБРОС
     |    |         |                            ; КЛ. 1 - ПУСК/ОСТАНОВ
     |    |         |                            ; 
0481 | 11 | STWCH:  | LXI D,04DBH                ; 
0482 | DB |         |                            ; 
0483 | 04 |         |                            ; 
0484 | DF |         | RST 3                      ; 
0485 | 11 |         | LXI D,00FFH                ; 
0486 | FF |         |                            ; 
0487 | 00 |         |                            ; 
0488 | AF | STWC1:  | XRA A                      ; 
0489 | 32 |         | STA 0BF6H                  ; 
048A | F6 |         |                            ; 
048B | 0B |         |                            ; 
048C | CD |         | CALL DCD                   ; 
048D | E9 |         |                            ; 
048E | 01 |         |                            ; 
048F | 06 |         | MVI B,1FH                  ; 
0490 | 1F |         |                            ; 
0491 | 05 | STWC2:  | DCR B                      ; 
0492 | 29 |         | DAD H                      ; 
0493 | C2 |         | JNZ STWC2                  ; 
0494 | 91 |         |                            ; 
0495 | 04 |         |                            ; 
0496 | 3E |         | MVI A,0FBH                 ; 
0497 | FB |         |                            ; 
0498 | D3 |         | OUT 07H                    ; 
0499 | 07 |         |                            ; 
049A | DB |         | IN 06H                     ; 
049B | 06 |         |                            ; 
049C | FE |         | CPI 0FEH                   ; 
049D | FE |         |                            ; 
049E | CA |         | JZ STWCH                   ; 
049F | 81 |         |                            ; 
04A0 | 04 |         |                            ; 
04A1 | 3E |         | MVI A,0F7H                 ; 
04A2 | F7 |         |                            ; 
04A3 | D3 |         | OUT 07H                    ; 
04A4 | 07 |         |                            ; 
04A5 | DB |         | IN 06H                     ; 
04A6 | 06 |         |                            ; 
04A7 | FE |         | CPI 0FEH                   ; 
04A8 | FE |         |                            ; 
04A9 | C2 |         | JNZ STWC7                  ; 
04AA | D6 |         |                            ; 
04AB | 04 |         |                            ; 
04AC | BB |         | CMP E                      ; 
04AD | CA |         | JZ STWC3                   ; 
04AE | B2 |         |                            ; 
04AF | 04 |         |                            ; 
04B0 | 5F |         | MOV E,A                    ; 
04B1 | 14 |         | INR D                      ; 
04B2 | 7A | STWC3:  | MOV A,D                    ; 
04B3 | 1F |         | RAR                        ; 
04B4 | D2 |         | JNC STWC1                  ; 
04B5 | 88 |         |                            ; 
04B6 | 04 |         |                            ; 
04B7 | 21 |         | LXI H,0BF0H                ; 
04B8 | F0 |         |                            ; 
04B9 | 0B |         |                            ; 
04BA | 34 | STWC4:  | INR M                      ; 
04BB | 7E |         | MOV A,M                    ; 
04BC | FE |         | CPI 0AH                    ; 
04BD | 0A |         |                            ; 
04BE | C2 |         | JNZ STWC6                  ; 
04BF | C7 |         |                            ; 
04C0 | 04 |         |                            ; 
04C1 | 36 |         | MVI M,00H                  ; 
04C2 | 00 |         |                            ; 
04C3 | 2C | STWC5:  | INR L                      ; 
04C4 | C3 |         | JMP STWC4                  ; 
04C5 | BA |         |                            ; 
04C6 | 04 |         |                            ; 
04C7 | 21 | STWC6:  | LXI H,0BF3H                ; 
04C8 | F3 |         |                            ; 
04C9 | 0B |         |                            ; 
04CA | 7E |         | MOV A,M                    ; 
04CB | FE |         | CPI 06H                    ; 
04CC | 06 |         |                            ; 
04CD | C2 |         | JNZ STWC1                  ; 
04CE | 88 |         |                            ; 
04CF | 04 |         |                            ; 
04D0 | 36 |         | MVI M,00H                  ; 
04D1 | 00 |         |                            ; 
04D2 | 2C |         | INR L                      ; 
04D3 | C3 |         | JMP STWC5                  ; 
04D4 | C3 |         |                            ; 
04D5 | 04 |         |                            ; 
04D6 | 1E | STWC7:  | MVI E,0FFH                 ; 
04D7 | FF |         |                            ; 
04D8 | C3 |         | JMP STWC3                  ; 
04D9 | B2 |         |                            ; 
04DA | 04 |         |                            ; 
04DB | 00 |         | NOP                        ; 
04DC | 00 |         | NOP                        ; 
04DD | 00 |         | NOP                        ; 
04DE | 00 |         | NOP                        ; 
04DF | 19 |         | DAD D                      ; 
04E0 | 00 |         | NOP                        ; 
     |    |         |                            ; УМНОЖЕНИЕ ОДНОБАЙТНЫХ ЧИСЕЛ
     |    |         |                            ; ВХОД:
     |    |         |                            ; РЕГ. E - МНОЖИТЕЛЬ
     |    |         |                            ; РЕГ. D - МНОЖИМОЕ
     |    |         |                            ; 
     |    |         |                            ; ВЫХОД:
     |    |         |                            ; BC - РЕЗУЛЬТАТ
     |    |         |                            ; 
04E1 | 01 | MULTY:  | LXI B,0000H                ; ОБНУЛЕНИЕ BC
04E2 | 00 |         |                            ; 
04E3 | 00 |         |                            ; 
04E4 | 3E |         | MVI A,01H                  ; 
04E5 | 01 |         |                            ; 
04E6 | A7 |         | ANA A                      ; СБРОС ФЛАГОВ
04E7 | F5 | MULT1:  | PUSH PSW                   ; СОХРАНЕНИЕ ФЛАГОВ И АККУМУЛЯТОРА
04E8 | A3 |         | ANA E                      ; 
04E9 | 78 |         | MOV A,B                    ; 
04EA | CA |         | JZ MULT2                   ; 
04EB | EE |         |                            ; 
04EC | 04 |         |                            ; 
04ED | 82 |         | ADD D                      ; 
04EE | 1F | MULT2:  | RAR                        ; 
04EF | 47 |         | MOV B,A                    ; 
04F0 | 79 |         | MOV A,C                    ; 
04F1 | 1F |         | RAR                        ; 
04F2 | 4F |         | MOV C,A                    ; 
04F3 | F1 |         | POP PSW                    ; 
04F4 | 17 |         | RAL                        ; 
04F5 | D2 |         | JNC MULT1                  ; 
04F6 | E7 |         |                            ; 
04F7 | 04 |         |                            ; 
04F8 | C9 |         | RET                        ; 
04F9 | 00 |         | NOP                        ; 
04FA | 16 |         | MVI D,00H                  ; 
04FB | 00 |         |                            ; 
     |    |         |                            ; ОРГАН
     |    |         |                            ; 
04FC | CD | ORGN:   | CALL KRD                   ; 
04FD | 9A |         |                            ; 
04FE | 01 |         |                            ; 
04FF | CD |         | CALL ORGN3                 ; 
0500 | 1C |         |                            ; 
0501 | 05 |         |                            ; 
0502 | B7 |         | ORA A                      ; 
0503 | CA |         | JZ ORGN                    ; 
0504 | FC |         |                            ; 
0505 | 04 |         |                            ; 
0506 | CD |         | CALL ORGN1                 ; 
0507 | 0F |         |                            ; 
0508 | 05 |         |                            ; 
0509 | CD |         | CALL ORGN2                 ; 
050A | 16 |         |                            ; 
050B | 05 |         |                            ; 
050C | C3 |         | JMP ORGN                   ; 
050D | FC |         |                            ; 
050E | 04 |         |                            ; 
050F | 3D | ORGN1:  | DCR A                      ; 
0510 | 00 |         | NOP                        ; 
0511 | 00 |         | NOP                        ; 
0512 | C2 |         | JNZ ORGN1                  ; 
0513 | 0F |         |                            ; 
0514 | 05 |         |                            ; 
0515 | C9 |         | RET                        ; 
0516 | 7A | ORGN2:  | MOV A,D                    ; 
0517 | 2F |         | CMA                        ; 
0518 | 57 |         | MOV D,A                    ; 
0519 | D3 |         | OUT 04H                    ; 
051A | 04 |         |                            ; 
051B | C9 |         | RET                        ; 
051C | 06 | ORGN3:  | MVI B,07H                  ; 
051D | 07 |         |                            ; 
051E | 21 |         | LXI H,0BEFH                ; 
051F | EF |         |                            ; 
0520 | 0B |         |                            ; 
0521 | 7E | ORGN4:  | MOV A,M                    ; 
0522 | 2F |         | CMA                        ; 
0523 | B7 |         | ORA A                      ; 
0524 | CA |         | JZ ORGN6                   ; 
0525 | 39 |         |                            ; 
0526 | 05 |         |                            ; 
0527 | FE |         | CPI 04H                    ; 
0528 | 04 |         |                            ; 
0529 | C2 |         | JNZ ORGN5                  ; 
052A | 2D |         |                            ; 
052B | 05 |         |                            ; 
052C | 3D |         | DCR A                      ; 
052D | 4F | ORGN5:  | MOV C,A                    ; 
052E | 78 |         | MOV A,B                    ; 
052F | 07 |         | RLC                        ; 
0530 | 07 |         | RLC                        ; 
0531 | B1 |         | ORA C                      ; 
0532 | 21 |         | LXI H,053AH                ; 
0533 | 3A |         |                            ; 
0534 | 05 |         |                            ; 
0535 | 85 |         | ADD L                      ; 
0536 | 6F |         | MOV L,A                    ; 
0537 | 7E |         | MOV A,M                    ; 
0538 | C9 |         | RET                        ; 
0539 | 05 | ORGN6:  | DCR B                      ; 
053A | 2B |         | DCX H                      ; 
053B | 78 |         | MOV A,B                    ; 
053C | FE |         | CPI 01H                    ; 
053D | 01 |         |                            ; 
053E | C2 |         | JNZ ORGN4                  ; 
053F | 21 |         |                            ; 
0540 | 05 |         |                            ; 
0541 | AF |         | XRA A                      ; 
0542 | C9 |         | RET                        ; 
0543 | E6 |         | DB 0E6H,000H,000H,000H     ; 
0544 | 00 |         |                            ; 
0545 | 00 |         |                            ; 
0546 | 00 |         |                            ; 
0547 | DA |         | DB 0DAH,0BDH,0A3H,000H     ; 
0548 | BD |         |                            ; 
0549 | A3 |         |                            ; 
054A | 00 |         |                            ; 
054B | 8F |         | DB 08FH,085H,072H,000H     ; 
054C | 85 |         |                            ; 
054D | 72 |         |                            ; 
054E | 00 |         |                            ; 
054F | 64 |         | DB 064H,05CH,04DH,000H     ; 
0550 | 5C |         |                            ; 
0551 | 4D |         |                            ; 
0552 | 00 |         |                            ; 
0553 | 43 |         | DB 043H,038H,033H,000H     ; 
0554 | 38 |         |                            ; 
0555 | 33 |         |                            ; 
0556 | 00 |         |                            ; 
0557 | 2D |         | DB 02DH,024H,020H          ; 055AH
0558 | 24 |         |                            ; 
0559 | 20 |         |                            ; 
055A | 21 | M0:     | LXI H,058DH                ; 
055B | 8D |         |                            ; 
055C | 05 |         |                            ; 
055D | D5 |         | PUSH D                     ; 
055E | 1A |         | LDAX D                     ; 
055F | E6 |         | ANI 0F0H                   ; 
0560 | F0 |         |                            ; 
0561 | CA |         | JZ M1                      ; 
0562 | 66 |         |                            ; 
0563 | 05 |         |                            ; 
0564 | 2E |         | MVI L,99H                  ; 
0565 | 99 |         |                            ; 
0566 | 1A | M1:     | LDAX D                     ; 
0567 | E6 |         | ANI 0FH                    ; 
0568 | 0F |         |                            ; 
0569 | CA |         | JZ M2                      ; 
056A | 84 |         |                            ; 
056B | 05 |         |                            ; 
056C | FE |         | CPI 0DH                    ; 
056D | 0D |         |                            ; 
056E | DA |         | JC M3                      ; 
056F | 73 |         |                            ; 
0570 | 05 |         |                            ; 
0571 | 3E |         | MVI A,0CH                  ; 
0572 | 0C |         |                            ; 
0573 | D6 | M3:     | SUI 01H                    ; 
0574 | 01 |         |                            ; 
0575 | 85 |         | ADD L                      ; 
0576 | 6F |         | MOV L,A                    ; 
0577 | 46 |         | MOV B,M                    ; 
0578 | CD |         | CALL BEEP1                 ; 
0579 | 12 |         |                            ; 
057A | 00 |         |                            ; 
057B | D1 | M4:     | POP D                      ; 
057C | 13 |         | INX D                      ; 
057D | 1A |         | LDAX D                     ; 
057E | 2F |         | CMA                        ; 
057F | A7 |         | ANA A                      ; 
0580 | C8 |         | RZ                         ; 
0581 | C3 |         | JMP M0                     ; 
0582 | 5A |         |                            ; 
0583 | 05 |         |                            ; 
0584 | 01 | M2:     | LXI B,0080H                ; 
0585 | 80 |         |                            ; 
0586 | 00 |         |                            ; 
0587 | CD |         | CALL DELB                  ; 
0588 | 30 |         |                            ; 
0589 | 04 |         |                            ; 
058A | C3 |         | JMP M4                     ; 
058B | 7B |         |                            ; 
058C | 05 |         |                            ; 
058D | A1 |         | DB 0A1H,098H,08FH,087H     ; 
058E | 98 |         |                            ; 
058F | 8F |         |                            ; 
0590 | 87 |         |                            ; 
0591 | 7F |         | DB 07FH,078H,071H,06BH     ; 
0592 | 78 |         |                            ; 
0593 | 71 |         |                            ; 
0594 | 6B |         |                            ; 
0595 | 64 |         | DB 064H,05FH,059H,054H     ; 
0596 | 5F |         |                            ; 
0597 | 59 |         |                            ; 
0598 | 54 |         |                            ; 
0599 | 4F |         | DB 04FH,04AH,046H,042H     ; 
059A | 4A |         |                            ; 
059B | 46 |         |                            ; 
059C | 42 |         |                            ; 
059D | 3E |         | DB 03EH,03AH,037H,034H     ; 
059E | 3A |         |                            ; 
059F | 37 |         |                            ; 
05A0 | 34 |         |                            ; 
05A1 | 31 |         | DB 031H,02EH,02BH,028H     ; 
05A2 | 2E |         |                            ; 
05A3 | 2B |         |                            ; 
05A4 | 28 |         |                            ; 
05A5 | 06 | MSTRT:  | DB 006H,000H,006H,000H     ; 
05A6 | 00 |         |                            ; 
05A7 | 06 |         |                            ; 
05A8 | 00 |         |                            ; 
05A9 | 06 |         | DB 006H,000H,001H,001H     ; 
05AA | 00 |         |                            ; 
05AB | 01 |         |                            ; 
05AC | 01 |         |                            ; 
05AD | 01 |         | DB 001H,001H,0FFH          ; 
05AE | 01 |         |                            ; 
05AF | FF |         |                            ; 
     |    |         |                            ; ♫♫♫ МЕЛОДИЯ. ♫♫♫
     |    |         |                            ; КРОКОДИЛ ГЕНА - "ПУСТЬ БЕГУТ НЕУКЛЮЖЕ"
     |    |         |                            ; 
05B0 | 11 | MUS01:  | LXI D,MGENA                ; 
05B1 | 00 |         |                            ; 
05B2 | 06 |         |                            ; 
05B3 | CD |         | CALL 055AH                 ; ?
05B4 | 5A |         |                            ; 
05B5 | 05 |         |                            ; 
05B6 | CF |         | RST 1                      ; 
05B7 | C3 |         | JMP MUS01                  ; 
05B8 | B0 |         |                            ; 
05B9 | 05 |         |                            ; 
     |    |         |                            ; ♫♫♫ МЕЛОДИЯ 2. ♫♫♫
     |    |         |                            ; ???
     |    |         |                            ; 
05BA | 11 | MUS02:  | LXI D,MUNK                 ; 
05BB | C4 |         |                            ; 
05BC | 05 |         |                            ; 
05BD | CD |         | CALL 055AH                 ; ?
05BE | 5A |         |                            ; 
05BF | 05 |         |                            ; 
05C0 | CF |         | RST 1                      ; 
05C1 | C3 |         | JMP MUS02                  ; 
05C2 | BA |         |                            ; 
05C3 | 05 |         |                            ; 
     |    |         |                            ; ♫♫♫ МЕЛОДИЯ 2. ♫♫♫
     |    |         |                            ; ???
     |    |         |                            ; 
05C4 | 01 | MUNK:   | DB 001H,004H,008H,004H     ; 
05C5 | 04 |         |                            ; 
05C6 | 08 |         |                            ; 
05C7 | 04 |         |                            ; 
05C8 | 06 |         | DB 006H,006H,004H,003H     ; 
05C9 | 06 |         |                            ; 
05CA | 04 |         |                            ; 
05CB | 03 |         |                            ; 
05CC | 08 |         | DB 008H,008H,006H,006H     ; 
05CD | 08 |         |                            ; 
05CE | 06 |         |                            ; 
05CF | 06 |         |                            ; 
05D0 | 01 |         | DB 001H,001H,001H,000H     ; 
05D1 | 01 |         |                            ; 
05D2 | 01 |         |                            ; 
05D3 | 00 |         |                            ; 
05D4 | 04 |         | DB 004H,008H,00BH,00BH     ; 
05D5 | 08 |         |                            ; 
05D6 | 0B |         |                            ; 
05D7 | 0B |         |                            ; 
05D8 | 11 |         | DB 011H,011H,00BH,009H     ; 
05D9 | 11 |         |                            ; 
05DA | 0B |         |                            ; 
05DB | 09 |         |                            ; 
05DC | 08 |         | DB 008H,008H,008H,000H     ; 
05DD | 08 |         |                            ; 
05DE | 08 |         |                            ; 
05DF | 00 |         |                            ; 
05E0 | 0A |         | DB 00AH,00AH,00CH,00CH     ; 
05E1 | 0A |         |                            ; 
05E2 | 0C |         |                            ; 
05E3 | 0C |         |                            ; 
05E4 | 13 |         | DB 013H,011H,008H,008H     ; 
05E5 | 11 |         |                            ; 
05E6 | 08 |         |                            ; 
05E7 | 08 |         |                            ; 
05E8 | 00 |         | DB 000H,003H,003H,001H     ; 
05E9 | 03 |         |                            ; 
05EA | 03 |         |                            ; 
05EB | 01 |         |                            ; 
05EC | 08 |         | DB 008H,006H,009H,009H     ; 
05ED | 06 |         |                            ; 
05EE | 09 |         |                            ; 
05EF | 09 |         |                            ; 
05F0 | 09 |         | DB 009H,000H,00BH,009H     ; 
05F1 | 00 |         |                            ; 
05F2 | 0B |         |                            ; 
05F3 | 09 |         |                            ; 
05F4 | 08 |         | DB 008H,008H,006H,004H     ; 
05F5 | 08 |         |                            ; 
05F6 | 06 |         |                            ; 
05F7 | 04 |         |                            ; 
05F8 | 08 |         | DB 008H,008H,006H,006H     ; 
05F9 | 08 |         |                            ; 
05FA | 06 |         |                            ; 
05FB | 06 |         |                            ; 
05FC | 11 |         | DB 011H,011H,011H,0FFH     ; 
05FD | 11 |         |                            ; 
05FE | 11 |         |                            ; 
05FF | FF |         |                            ; 
     |    |         |                            ; ♫♫♫ МЕЛОДИЯ 1. ♫♫♫
     |    |         |                            ; КРОКОДИЛ ГЕНА - "ПУСТЬ БЕГУТ НЕУКЛЮЖЕ"
     |    |         |                            ; 
0600 | 00 | MGENA:  | DB 000H,01AH,01BH,01AH     ; 
0601 | 1A |         |                            ; 
0602 | 1B |         |                            ; 
0603 | 1A |         |                            ; 
0604 | 1A |         | DB 01AH,01AH,01AH,01AH     ; 
0605 | 1A |         |                            ; 
0606 | 1A |         |                            ; 
0607 | 1A |         |                            ; 
0608 | 00 |         | DB 000H,00AH,00BH,00AH     ; 
0609 | 0A |         |                            ; 
060A | 0B |         |                            ; 
060B | 0A |         |                            ; 
060C | 0A |         | DB 00AH,00AH,00AH,00AH     ; 
060D | 0A |         |                            ; 
060E | 0A |         |                            ; 
060F | 0A |         |                            ; 
0610 | 00 |         | DB 000H,00AH,00BH,00AH     ; 
0611 | 0A |         |                            ; 
0612 | 0B |         |                            ; 
0613 | 0A |         |                            ; 
0614 | 0A |         | DB 00AH,003H,005H,006H     ; 
0615 | 03 |         |                            ; 
0616 | 05 |         |                            ; 
0617 | 06 |         |                            ; 
0618 | 03 |         | DB 003H,00AH,00BH,00AH     ; 
0619 | 0A |         |                            ; 
061A | 0B |         |                            ; 
061B | 0A |         |                            ; 
061C | 0A |         | DB 00AH,005H,006H,008H     ; 
061D | 05 |         |                            ; 
061E | 06 |         |                            ; 
061F | 08 |         |                            ; 
0620 | 05 |         | DB 005H,00AH,00BH,00AH     ; 
0621 | 0A |         |                            ; 
0622 | 0B |         |                            ; 
0623 | 0A |         |                            ; 
0624 | 0A |         | DB 00AH,005H,006H,008H     ; 
0625 | 05 |         |                            ; 
0626 | 06 |         |                            ; 
0627 | 08 |         |                            ; 
0628 | 08 |         | DB 008H,00AH,00BH,00AH     ; 
0629 | 0A |         |                            ; 
062A | 0B |         |                            ; 
062B | 0A |         |                            ; 
062C | 0A |         | DB 00AH,00AH,00AH,00AH     ; 
062D | 0A |         |                            ; 
062E | 0A |         |                            ; 
062F | 0A |         |                            ; 
0630 | 00 |         | DB 000H,013H,014H,013H     ; 
0631 | 13 |         |                            ; 
0632 | 14 |         |                            ; 
0633 | 13 |         |                            ; 
0634 | 13 |         | DB 013H,00AH,00BH,011H     ; 
0635 | 0A |         |                            ; 
0636 | 0B |         |                            ; 
0637 | 11 |         |                            ; 
0638 | 0A |         | DB 00AH,013H,014H,013H     ; 
0639 | 13 |         |                            ; 
063A | 14 |         |                            ; 
063B | 13 |         |                            ; 
063C | 13 |         | DB 013H,008H,00AH,00BH     ; 
063D | 08 |         |                            ; 
063E | 0A |         |                            ; 
063F | 0B |         |                            ; 
0640 | 13 |         | DB 013H,011H,00BH,013H     ; 
0641 | 11 |         |                            ; 
0642 | 0B |         |                            ; 
0643 | 13 |         |                            ; 
0644 | 13 |         | DB 013H,00AH,006H,005H     ; 
0645 | 0A |         |                            ; 
0646 | 06 |         |                            ; 
0647 | 05 |         |                            ; 
0648 | 05 |         | DB 005H,008H,006H,003H     ; 
0649 | 08 |         |                            ; 
064A | 06 |         |                            ; 
064B | 03 |         |                            ; 
064C | 03 |         | DB 003H,003H,003H,003H     ; 
064D | 03 |         |                            ; 
064E | 03 |         |                            ; 
064F | 03 |         |                            ; 
0650 | 00 |         | DB 000H,003H,006H,006H     ; 
0651 | 03 |         |                            ; 
0652 | 06 |         |                            ; 
0653 | 06 |         |                            ; 
0654 | 06 |         | DB 006H,005H,005H,000H     ; 
0655 | 05 |         |                            ; 
0656 | 05 |         |                            ; 
0657 | 00 |         |                            ; 
0658 | 00 |         | DB 000H,005H,008H,008H     ; 
0659 | 05 |         |                            ; 
065A | 08 |         |                            ; 
065B | 08 |         |                            ; 
065C | 08 |         | DB 008H,006H,006H,000H     ; 
065D | 06 |         |                            ; 
065E | 06 |         |                            ; 
065F | 00 |         |                            ; 
0660 | 00 |         | DB 000H,006H,00AH,00AH     ; 
0661 | 06 |         |                            ; 
0662 | 0A |         |                            ; 
0663 | 0A |         |                            ; 
0664 | 0A |         | DB 00AH,008H,008H,000H     ; 
0665 | 08 |         |                            ; 
0666 | 08 |         |                            ; 
0667 | 00 |         |                            ; 
0668 | 00 |         | DB 000H,00BH,00AH,011H     ; 
0669 | 0B |         |                            ; 
066A | 0A |         |                            ; 
066B | 11 |         |                            ; 
066C | 11 |         | DB 011H,011H,011H,011H     ; 
066D | 11 |         |                            ; 
066E | 11 |         |                            ; 
066F | 11 |         |                            ; 
0670 | 00 |         | DB 000H,00AH,011H,011H     ; 
0671 | 0A |         |                            ; 
0672 | 11 |         |                            ; 
0673 | 11 |         |                            ; 
0674 | 11 |         | DB 011H,00BH,00BH,000H     ; 
0675 | 0B |         |                            ; 
0676 | 0B |         |                            ; 
0677 | 00 |         |                            ; 
0678 | 00 |         | DB 000H,008H,00BH,00BH     ; 
0679 | 08 |         |                            ; 
067A | 0B |         |                            ; 
067B | 0B |         |                            ; 
067C | 0B |         | DB 00BH,00AH,00AH,000H     ; 
067D | 0A |         |                            ; 
067E | 0A |         |                            ; 
067F | 00 |         |                            ; 
0680 | 00 |         | DB 000H,006H,00AH,008H     ; 
0681 | 06 |         |                            ; 
0682 | 0A |         |                            ; 
0683 | 08 |         |                            ; 
0684 | 08 |         | DB 008H,000H,000H,00AH     ; 
0685 | 00 |         |                            ; 
0686 | 00 |         |                            ; 
0687 | 0A |         |                            ; 
0688 | 0A |         | DB 00AH,00AH,00AH,003H     ; 
0689 | 0A |         |                            ; 
068A | 0A |         |                            ; 
068B | 03 |         |                            ; 
068C | 03 |         | DB 003H,000H,003H,005H     ; 
068D | 00 |         |                            ; 
068E | 03 |         |                            ; 
068F | 05 |         |                            ; 
0690 | 06 |         | DB 006H,00AH,011H,00BH     ; 
0691 | 0A |         |                            ; 
0692 | 11 |         |                            ; 
0693 | 0B |         |                            ; 
0694 | 0A |         | DB 00AH,00BH,00AH,008H     ; 
0695 | 0B |         |                            ; 
0696 | 0A |         |                            ; 
0697 | 08 |         |                            ; 
0698 | 06 |         | DB 006H,005H,003H,003H     ; 
0699 | 05 |         |                            ; 
069A | 03 |         |                            ; 
069B | 03 |         |                            ; 
069C | 00 |         | DB 000H,013H,013H,0FFH     ; 
069D | 13 |         |                            ; 
069E | 13 |         |                            ; 
069F | FF |         |                            ; 
     |    |         |                            ; СТАРТОВАЯ МЕЛОДИЯ
     |    |         |                            ; 
06A0 | 11 | LMC:    | LXI D,MSTRT                ; 
06A1 | A5 |         |                            ; 
06A2 | 05 |         |                            ; 
06A3 | CD |         | CALL 055AH                 ; 
06A4 | 5A |         |                            ; 
06A5 | 05 |         |                            ; 
06A6 | C9 |         | RET                        ; 
06A7 | 00 |         | NOP                        ; 
     |    |         |                            ; ???????
     |    |         |                            ; 06A8
     |    |         |                            ; 
06A8 | F5 | MM0:    | PUSH PSW                   ; 
06A9 | D5 |         | PUSH D                     ; 
06AA | C5 |         | PUSH B                     ; 
06AB | D5 | MM1:    | PUSH D                     ; 
06AC | DF |         | RST 3                      ; 
06AD | D1 |         | POP D                      ; 
06AE | 06 |         | MVI B,04H                  ; 
06AF | 04 |         |                            ; 
06B0 | 21 |         | LXI H,0BF5H                ; 
06B1 | F5 |         |                            ; 
06B2 | 0B |         |                            ; 
06B3 | CD | MM2:    | CALL KIND                  ; 
06B4 | 4B |         |                            ; 
06B5 | 01 |         |                            ; 
06B6 | FE |         | CPI 81H                    ; 
06B7 | 81 |         |                            ; 
06B8 | CA |         | JZ MM1                     ; 
06B9 | AB |         |                            ; 
06BA | 06 |         |                            ; 
06BB | FE |         | CPI 10H                    ; 
06BC | 10 |         |                            ; 
06BD | D2 |         | JNC MM2                    ; 
06BE | B3 |         |                            ; 
06BF | 06 |         |                            ; 
06C0 | 77 |         | MOV M,A                    ; 
06C1 | 05 |         | DCR B                      ; 
06C2 | 2B |         | DCX H                      ; 
06C3 | C2 |         | JNZ MM2                    ; 
06C4 | B3 |         |                            ; 
06C5 | 06 |         |                            ; 
06C6 | CD | MM3:    | CALL KIND                  ; 
06C7 | 4B |         |                            ; 
06C8 | 01 |         |                            ; 
06C9 | FE |         | CPI 81H                    ; 
06CA | 81 |         |                            ; 
06CB | CA |         | JZ MM1                     ; 
06CC | AB |         |                            ; 
06CD | 06 |         |                            ; 
06CE | FE |         | CPI 83H                    ; 
06CF | 83 |         |                            ; 
06D0 | C2 |         | JNZ MM3                    ; 
06D1 | C6 |         |                            ; 
06D2 | 06 |         |                            ; 
06D3 | 21 |         | LXI H,0BF4H                ; 
06D4 | F4 |         |                            ; 
06D5 | 0B |         |                            ; 
06D6 | CD |         | CALL FETA6                 ; 
06D7 | 93 |         |                            ; 
06D8 | 03 |         |                            ; 
06D9 | 57 |         | MOV D,A                    ; 
06DA | 21 |         | LXI H,0BF2H                ; 
06DB | F2 |         |                            ; 
06DC | 0B |         |                            ; 
06DD | CD |         | CALL FETA6                 ; 
06DE | 93 |         |                            ; 
06DF | 03 |         |                            ; 
06E0 | 5F |         | MOV E,A                    ; 
06E1 | D5 |         | PUSH D                     ; 
06E2 | D7 |         | RST 2                      ; 
06E3 | E1 |         | POP H                      ; 
06E4 | C1 |         | POP B                      ; 
06E5 | D1 |         | POP D                      ; 
06E6 | F1 |         | POP PSW                    ; 
06E7 | C9 |         | RET                        ; 
     |    |         |                            ; ????
     |    |         |                            ; 
06E8 | 14 |         | INR D                      ; 
06E9 | 00 |         | NOP                        ; 
06EA | 17 |         | RAL                        ; 
06EB | 17 |         | RAL                        ; 
06EC | 17 |         | RAL                        ; 
06ED | 17 |         | RAL                        ; ????
06EE | D5 | MMM0:   | PUSH D                     ; 
06EF | EB |         | XCHG                       ; 
06F0 | 2A |         | LHLD 0B02H                 ; 
06F1 | 02 |         |                            ; 
06F2 | 0B |         |                            ; 
06F3 | CD |         | CALL MMM1                  ; 
06F4 | FA |         |                            ; 
06F5 | 06 |         |                            ; 
06F6 | EB |         | XCHG                       ; 
06F7 | D1 |         | POP D                      ; 
06F8 | 23 |         | INX H                      ; 
06F9 | C9 |         | RET                        ; 
06FA | 7C | MMM1:   | MOV A,H                    ; 
06FB | BA |         | CMP D                      ; 
06FC | C0 |         | RNZ                        ; 
06FD | 7D |         | MOV A,L                    ; 
06FE | BB |         | CMP E                      ; 
06FF | C9 |         | RET                        ; 
0700 | C5 | MMMM0:  | PUSH B                     ; 
0701 | 0E |         | MVI C,08H                  ; 
0702 | 08 |         |                            ; 
0703 | 07 | MMMM2:  | RLC                        ; 
0704 | 2F |         | CMA                        ; 
0705 | D3 |         | OUT 04H                    ; 
0706 | 04 |         |                            ; 
0707 | CD |         | CALL MMMM1                 ; 
0708 | 16 |         |                            ; 
0709 | 07 |         |                            ; 
070A | 2F |         | CMA                        ; 
070B | D3 |         | OUT 04H                    ; 
070C | 04 |         |                            ; 
070D | CD |         | CALL MMMM1                 ; 
070E | 16 |         |                            ; 
070F | 07 |         |                            ; 
0710 | 0D |         | DCR C                      ; 
0711 | C2 |         | JNZ MMMM2                  ; 
0712 | 03 |         |                            ; 
0713 | 07 |         |                            ; 
0714 | C1 |         | POP B                      ; 
0715 | C9 |         | RET                        ; 
0716 | 06 | MMMM1:  | MVI B,30H                  ; 
0717 | 30 |         |                            ; 
0718 | 05 | MMMM3:  | DCR B                      ; 
0719 | C2 |         | JNZ MMMM3                  ; 
071A | 18 |         |                            ; 
071B | 07 |         |                            ; 
071C | C9 |         | RET                        ; 
071D | 0E | MMMM11: | MVI C,01H                  ; 
071E | 01 |         |                            ; 
071F | DB | MMMM5:  | IN 04H                     ; 
0720 | 04 |         |                            ; 
0721 | 47 |         | MOV B,A                    ; 
0722 | DB | MMMM4:  | IN 04H                     ; 
0723 | 04 |         |                            ; 
0724 | B8 |         | CMP B                      ; 
0725 | CA |         | JZ MMMM4                   ; 
0726 | 22 |         |                            ; 
0727 | 07 |         |                            ; 
0728 | 06 |         | MVI B,48H                  ; 
0729 | 48 |         |                            ; 
072A | CD |         | CALL MMMM3                 ; 
072B | 18 |         |                            ; 
072C | 07 |         |                            ; 
072D | 0F |         | RRC                        ; 
072E | 79 |         | MOV A,C                    ; 
072F | 17 |         | RAL                        ; 
0730 | 4F |         | MOV C,A                    ; 
0731 | D2 |         | JNC MMMM5                  ; 
0732 | 1F |         |                            ; 
0733 | 07 |         |                            ; 
0734 | 3A |         | LDA 0B06H                  ; 
0735 | 06 |         |                            ; 
0736 | 0B |         |                            ; 
0737 | A9 |         | XRA C                      ; 
0738 | C9 |         | RET                        ; 
0739 | AF | MMMM13: | XRA A                      ; 
073A | 32 |         | STA 0B06H                  ; 
073B | 06 |         |                            ; 
073C | 0B |         |                            ; 
073D | F6 | MMMM6:  | ORI 80H                    ; 
073E | 80 |         |                            ; 
073F | 4F |         | MOV C,A                    ; 
0740 | CD |         | CALL MMMM5                 ; 
0741 | 1F |         |                            ; 
0742 | 07 |         |                            ; 
0743 | FE |         | CPI 0E6H                   ; 
0744 | E6 |         |                            ; 
0745 | C8 |         | RZ                         ; 
0746 | FE |         | CPI 19H                    ; 
0747 | 19 |         |                            ; 
0748 | C2 |         | JNZ MMMM6                  ; 
0749 | 3D |         |                            ; 
074A | 07 |         |                            ; 
074B | 3E |         | MVI A,0FFH                 ; 
074C | FF |         |                            ; 
074D | 32 |         | STA 0B06H                  ; 
074E | 06 |         |                            ; 
074F | 0B |         |                            ; 
0750 | C9 |         | RET                        ; 
0751 | 7B | MMMM9:  | MOV A,E                    ; 
0752 | CD |         | CALL MMMM0                 ; 
0753 | 00 |         |                            ; 
0754 | 07 |         |                            ; 
0755 | CF |         | RST 1                      ; 
0756 | 11 |         | LXI D,06E8H                ; 
0757 | E8 |         |                            ; 
0758 | 06 |         |                            ; 
0759 | CD |         | CALL MM0                   ; 
075A | A8 |         |                            ; 
075B | 06 |         |                            ; 
075C | 22 |         | SHLD 0B00H                 ; 
075D | 00 |         |                            ; 
075E | 0B |         |                            ; 
075F | CD |         | CALL MM0                   ; 
0760 | A8 |         |                            ; 
0761 | 06 |         |                            ; 
0762 | 22 |         | SHLD 0B02H                 ; 
0763 | 02 |         |                            ; 
0764 | 0B |         |                            ; 
0765 | 11 |         | LXI D,07DCH                ; 
0766 | DC |         |                            ; 
0767 | 07 |         |                            ; 
0768 | CD |         | CALL MM0                   ; 
0769 | A8 |         |                            ; 
076A | 06 |         |                            ; 
076B | 22 |         | SHLD 0B04H                 ; 
076C | 04 |         |                            ; 
076D | 0B |         |                            ; 
076E | AF |         | XRA A                      ; 
076F | 47 |         | MOV B,A                    ; 
0770 | CD | MMMM7:  | CALL MMMM0                 ; 
0771 | 00 |         |                            ; 
0772 | 07 |         |                            ; 
0773 | 05 |         | DCR B                      ; 
0774 | C2 |         | JNZ MMMM7                  ; 
0775 | 70 |         |                            ; 
0776 | 07 |         |                            ; 
0777 | 21 |         | LXI H,0AFFH                ; 
0778 | FF |         |                            ; 
0779 | 0A |         |                            ; 
077A | 16 |         | MVI D,08H                  ; 
077B | 08 |         |                            ; 
077C | 5F |         | MOV E,A                    ; 
077D | 3E |         | MVI A,0E6H                 ; 
077E | E6 |         |                            ; 
077F | 15 | MMMM10: | DCR D                      ; 
0780 | C2 |         | JNZ MMMM8                  ; 
0781 | 88 |         |                            ; 
0782 | 07 |         |                            ; 
0783 | 2A |         | LHLD 0B00H                 ; 
0784 | 00 |         |                            ; 
0785 | 0B |         |                            ; 
0786 | 2B |         | DCX H                      ; 
0787 | 7B |         | MOV A,E                    ; 
0788 | CD | MMMM8:  | CALL MMMM0                 ; 
0789 | 00 |         |                            ; 
078A | 07 |         |                            ; 
078B | 83 |         | ADD E                      ; 
078C | 5F |         | MOV E,A                    ; 
078D | CD |         | CALL MMM0                  ; 
078E | EE |         |                            ; 
078F | 06 |         |                            ; 
0790 | CA |         | JZ MMMM9                   ; 
0791 | 51 |         |                            ; 
0792 | 07 |         |                            ; 
0793 | 7E |         | MOV A,M                    ; 
0794 | 15 |         | DCR D                      ; 
0795 | 14 |         | INR D                      ; 
0796 | CA |         | JZ MMMM8                   ; 
0797 | 88 |         |                            ; 
0798 | 07 |         |                            ; 
0799 | C3 |         | JMP MMMM10                 ; 
079A | 7F |         |                            ; 
079B | 07 |         |                            ; 
079C | CD | MMMM16: | CALL MMMM11                ; 
079D | 1D |         |                            ; 
079E | 07 |         |                            ; 
079F | BB |         | CMP E                      ; 
07A0 | 2A |         | LHLD 0B04H                 ; 
07A1 | 04 |         |                            ; 
07A2 | 0B |         |                            ; 
07A3 | CA |         | JZ MMMM12                  ; 
07A4 | D8 |         |                            ; 
07A5 | 07 |         |                            ; 
07A6 | CF |         | RST 1                      ; 
07A7 | D3 |         | OUT 10H                    ; 
07A8 | 10 |         |                            ; 
07A9 | CD |         | CALL MMMM13                ; 
07AA | 39 |         |                            ; 
07AB | 07 |         |                            ; 
07AC | 21 |         | LXI H,0B00H                ; 
07AD | 00 |         |                            ; 
07AE | 0B |         |                            ; 
07AF | 11 |         | LXI D,07E6H                ; 
07B0 | E6 |         |                            ; 
07B1 | 07 |         |                            ; 
07B2 | CD | MMMM17: | CALL MMMM11                ; 
07B3 | 1D |         |                            ; 
07B4 | 07 |         |                            ; 
07B5 | 15 |         | DCR D                      ; 
07B6 | C2 |         | JNZ MMMM14                 ; 
07B7 | C4 |         |                            ; 
07B8 | 07 |         |                            ; 
07B9 | BB |         | CMP E                      ; 
07BA | C4 |         | CNZ RS7                    ; 
07BB | 38 |         |                            ; 
07BC | 00 |         |                            ; 
07BD | 2A |         | LHLD 0B00H                 ; 
07BE | 00 |         |                            ; 
07BF | 0B |         |                            ; 
07C0 | 2B |         | DCX H                      ; 
07C1 | C3 |         | JMP MMMM15                 ; 
07C2 | C5 |         |                            ; 
07C3 | 07 |         |                            ; 
07C4 | 77 | MMMM14: | MOV M,A                    ; 
07C5 | 83 | MMMM15: | ADD E                      ; 
07C6 | 5F |         | MOV E,A                    ; 
07C7 | CD |         | CALL MMM0                  ; 
07C8 | EE |         |                            ; 
07C9 | 06 |         |                            ; 
07CA | CA |         | JZ MMMM16                  ; 
07CB | 9C |         |                            ; 
07CC | 07 |         |                            ; 
07CD | 14 |         | INR D                      ; 
07CE | FA |         | JM MMMM17                  ; 
07CF | B2 |         |                            ; 
07D0 | 07 |         |                            ; 
07D1 | 15 |         | DCR D                      ; 
07D2 | C3 |         | JMP MMMM17                 ; 
07D3 | B2 |         |                            ; 
07D4 | 07 |         |                            ; 
07D5 | 00 |         | NOP                        ; 
07D6 | 00 |         | NOP                        ; 
07D7 | 00 |         | NOP                        ; 
07D8 | D3 | MMMM12: | OUT 0EH                    ; 
07D9 | 0E |         |                            ; 
07DA | 00 |         | NOP                        ; 
07DB | E9 |         | PCHL                       ; 
07DC | 0D |         | DCR C                      ; 
07DD | 0A |         | LDAX B                     ; 
07DE | 17 |         | RAL                        ; 
07DF | 17 |         | RAL                        ; 
07E0 | 17 |         | RAL                        ; 
07E1 | 17 |         | RAL                        ; 
